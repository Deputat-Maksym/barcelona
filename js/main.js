!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Glide=e()}(this,function(){"use strict";var n={type:"slider",startAt:0,perView:1,focusAt:0,gap:10,autoplay:!1,hoverpause:!0,keyboard:!0,bound:!1,swipeThreshold:80,dragThreshold:120,perTouch:!1,touchRatio:.5,touchAngle:45,animationDuration:400,rewind:!0,rewindDuration:800,animationTimingFunc:"cubic-bezier(.165, .840, .440, 1)",throttle:10,direction:"ltr",peek:0,breakpoints:{},classes:{direction:{ltr:"glide--ltr",rtl:"glide--rtl"},slider:"glide--slider",carousel:"glide--carousel",swipeable:"glide--swipeable",dragging:"glide--dragging",cloneSlide:"glide__slide--clone",activeNav:"glide__bullet--active",activeSlide:"glide__slide--active",disabledArrow:"glide__arrow--disabled"}};function u(t){console.error("[Glide warn]: "+t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t};function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function y(t){return parseInt(t)}function s(t){return"string"==typeof t}function c(t){var e=void 0===t?"undefined":o(t);return"function"===e||"object"===e&&!!t}function l(t){return"function"==typeof t}function f(t){return void 0===t}function d(t){return t.constructor===Array}function h(t,e,n){Object.defineProperty(t,e,n)}function v(t,e){var n=a({},t,e);return e.hasOwnProperty("classes")&&(n.classes=a({},t.classes,e.classes),e.classes.hasOwnProperty("direction")&&(n.classes.direction=a({},t.classes.direction,e.classes.direction))),e.hasOwnProperty("breakpoints")&&(n.breakpoints=a({},t.breakpoints,e.breakpoints)),n}var m=(t(e,[{key:"on",value:function(t,e){if(d(t))for(var n=0;n<t.length;n++)this.on(t[n],e);this.hop.call(this.events,t)||(this.events[t]=[]);var i=this.events[t].push(e)-1;return{remove:function(){delete this.events[t][i]}}}},{key:"emit",value:function(t,e){if(d(t))for(var n=0;n<t.length;n++)this.emit(t[n],e);this.hop.call(this.events,t)&&this.events[t].forEach(function(t){t(e||{})})}}]),e);function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.events=t,this.hop=t.hasOwnProperty}var p=(t(g,[{key:"mount",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};return this._e.emit("mount.before"),c(e)?this._c=function(t,e,n){var i={};for(var o in e)l(e[o])?i[o]=e[o](t,i,n):u("Extension must be a function");for(var r in i)l(i[r].mount)&&i[r].mount();return i}(this,e,this._e):u("You need to provide a object on `mount()`"),this._e.emit("mount.after"),this}},{key:"mutate",value:function(t){var e=0<arguments.length&&void 0!==t?t:[];return d(e)?this._t=e:u("You need to provide a array on `mutate()`"),this}},{key:"update",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};return this.settings=v(this.settings,e),e.hasOwnProperty("startAt")&&(this.index=e.startAt),this._e.emit("update"),this}},{key:"go",value:function(t){return this._c.Run.make(t),this}},{key:"move",value:function(t){return this._c.Transition.disable(),this._c.Move.make(t),this}},{key:"destroy",value:function(){return this._e.emit("destroy"),this}},{key:"play",value:function(t){var e=0<arguments.length&&void 0!==t&&t;return e&&(this.settings.autoplay=e),this._e.emit("play"),this}},{key:"pause",value:function(){return this._e.emit("pause"),this}},{key:"disable",value:function(){return this.disabled=!0,this}},{key:"enable",value:function(){return this.disabled=!1,this}},{key:"on",value:function(t,e){return this._e.on(t,e),this}},{key:"isType",value:function(t){return this.settings.type===t}},{key:"settings",get:function(){return this._o},set:function(t){c(t)?this._o=t:u("Options must be an `object` instance.")}},{key:"smm.html",get:function(){return this._i},set:function(t){this._i=y(t)}},{key:"type",get:function(){return this.settings.type}},{key:"disabled",get:function(){return this._d},set:function(t){this._d=!!t}}]),g);function g(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};i(this,g),this._c={},this._t=[],this._e=new m,this.disabled=!1,this.selector=t,this.settings=v(n,e),this.index=this.settings.startAt}function b(){return(new Date).getTime()}function w(n,i,o){var r=void 0,s=void 0,u=void 0,a=void 0,c=0;o=o||{};function l(){c=!1===o.leading?0:b(),r=null,a=n.apply(s,u),r||(s=u=null)}function t(){var t=b();c||!1!==o.leading||(c=t);var e=i-(t-c);return s=this,u=arguments,e<=0||i<e?(r&&(clearTimeout(r),r=null),c=t,a=n.apply(s,u),r||(s=u=null)):r||!1===o.trailing||(r=setTimeout(l,e)),a}return t.cancel=function(){clearTimeout(r),c=0,r=s=u=null},t}var k={ltr:["marginLeft","marginRight"],rtl:["marginRight","marginLeft"]};function _(t){if(t&&t.parentNode){for(var e=t.parentNode.firstChild,n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}return[]}function S(t){return!!(t&&t instanceof window.HTMLElement)}var H='[data-glide-el="track"]';var T=(t(O,[{key:"on",value:function(t,e,n,i){var o=3<arguments.length&&void 0!==i&&i;s(t)&&(t=[t]);for(var r=0;r<t.length;r++)this.listeners[t[r]]=n,e.addEventListener(t[r],this.listeners[t[r]],o)}},{key:"off",value:function(t,e,n){var i=2<arguments.length&&void 0!==n&&n;s(t)&&(t=[t]);for(var o=0;o<t.length;o++)e.removeEventListener(t[o],this.listeners[t[o]],i)}},{key:"destroy",value:function(){delete this.listeners}}]),O);function O(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(this,O),this.listeners=t}var x=["ltr","rtl"],A={">":"<","<":">","=":"="};function L(t,e){return{modify:function(t){return e.Direction.is("rtl")?-t:t}}}function M(i,o,r){var s=[function(e,n){return{modify:function(t){return t+n.Gaps.value*e.smm}}},function(t,e){return{modify:function(t){return t+e.Clones.grow/2}}},function(n,i){return{modify:function(t){if(0<=n.settings.focusAt){var e=i.Peek.value;return c(e)?t-e.before:t-e}return t}}},function(r,s){return{modify:function(t){var e=s.Gaps.value,n=s.Sizes.width,i=r.settings.focusAt,o=s.Sizes.slideWidth;return"center"===i?t-(n/2-o/2):t-o*i-e*i}}}].concat(i._t,[L]);return{mutate:function(t){for(var e=0;e<s.length;e++){var n=s[e];l(n)&&l(n().modify)?t=n(i,o,r).modify(t):u("Transformer should be a function that returns an object with `modify()` method")}return t}}}var C=!1;try{var P=Object.defineProperty({},"passive",{get:function(){C=!0}});window.addEventListener("testPassive",null,P),window.removeEventListener("testPassive",null,P)}catch(t){}var j=C,E=["touchstart","mousedown"],z=["touchmove","mousemove"],D=["touchend","touchcancel","mouseup","mouseleave"],R=["mousedown","mousemove","mouseup","mouseleave"];function W(t){return c(t)?(n=t,Object.keys(n).sort().reduce(function(t,e){return t[e]=n[e],t[e],t},{})):(u("Breakpoints option must be an object"),{});var n}var q={Html:function(e,t){var n={mount:function(){this.root=e.selector,this.track=this.root.querySelector(H),this.slides=Array.prototype.slice.call(this.wrapper.children).filter(function(t){return!t.classList.contains(e.settings.classes.cloneSlide)})}};return h(n,"root",{get:function(){return n._r},set:function(t){s(t)&&(t=document.querySelector(t)),S(t)?n._r=t:u("Root element must be a existing Html node")}}),h(n,"track",{get:function(){return n._t},set:function(t){S(t)?n._t=t:u("Could not find track element. Please use "+H+" attribute.")}}),h(n,"wrapper",{get:function(){return n.track.children[0]}}),n},Translate:function(o,r,s){var u={set:function(t){var e=M(o,r).mutate(t);r.Html.wrapper.style.transform="translate3d("+-1*e+"px, 0px, 0px)"},remove:function(){r.Html.wrapper.style.transform=""}};return s.on("move",function(t){var e=r.Gaps.value,n=r.Sizes.length,i=r.Sizes.slideWidth;return o.isType("carousel")&&r.Run.isOffset("<")?(r.Transition.after(function(){s.emit("translate.jump"),u.set(i*(n-1))}),u.set(-i-e*n)):o.isType("carousel")&&r.Run.isOffset(">")?(r.Transition.after(function(){s.emit("translate.jump"),u.set(0)}),u.set(i*n+e*n)):u.set(t.movement)}),s.on("destroy",function(){u.remove()}),u},Transition:function(n,i,t){var o=!1,e={compose:function(t){var e=n.settings;return o?t+" 0ms "+e.animationTimingFunc:t+" "+this.duration+"ms "+e.animationTimingFunc},set:function(t){var e=0<arguments.length&&void 0!==t?t:"transform";i.Html.wrapper.style.transition=this.compose(e)},remove:function(){i.Html.wrapper.style.transition=""},after:function(t){setTimeout(function(){t()},this.duration)},enable:function(){o=!1,this.set()},disable:function(){o=!0,this.set()}};return h(e,"duration",{get:function(){var t=n.settings;return n.isType("slider")&&i.Run.offset?t.rewindDuration:t.animationDuration}}),t.on("move",function(){e.set()}),t.on(["build.before","resize","translate.jump"],function(){e.disable()}),t.on("run",function(){e.enable()}),t.on("destroy",function(){e.remove()}),e},Direction:function(t,e,n){var i={mount:function(){this.value=t.settings.direction},resolve:function(t){var e=t.slice(0,1);return this.is("rtl")?t.split(e).join(A[e]):t},is:function(t){return this.value===t},addClass:function(){e.Html.root.classList.add(t.settings.classes.direction[this.value])},removeClass:function(){e.Html.root.classList.remove(t.settings.classes.direction[this.value])}};return h(i,"value",{get:function(){return i._v},set:function(t){-1<x.indexOf(t)?i._v=t:u("Direction value must be `ltr` or `rtl`")}}),n.on(["destroy","update"],function(){i.removeClass()}),n.on("update",function(){i.mount()}),n.on(["build.before","update"],function(){i.addClass()}),i},Peek:function(n,t,e){var i={mount:function(){this.value=n.settings.peek}};return h(i,"value",{get:function(){return i._v},set:function(t){c(t)?(t.before=y(t.before),t.after=y(t.after)):t=y(t),i._v=t}}),h(i,"reductor",{get:function(){var t=i.value,e=n.settings.perView;return c(t)?t.before/e+t.after/e:2*t/e}}),e.on(["resize","update"],function(){i.mount()}),i},Sizes:function(t,i,e){var n={setupSlides:function(){for(var t=this.slideWidth+"px",e=i.Html.slides,n=0;n<e.length;n++)e[n].style.width=t},setupWrapper:function(){i.Html.wrapper.style.width=this.wrapperSize+"px"},remove:function(){for(var t=i.Html.slides,e=0;e<t.length;e++)t[e].style.width="";i.Html.wrapper.style.width=""}};return h(n,"length",{get:function(){return i.Html.slides.length}}),h(n,"width",{get:function(){return i.Html.root.offsetWidth}}),h(n,"wrapperSize",{get:function(){return n.slideWidth*n.length+i.Gaps.grow+i.Clones.grow}}),h(n,"slideWidth",{get:function(){return n.width/t.settings.perView-i.Peek.reductor-i.Gaps.reductor}}),e.on(["build.before","resize","update"],function(){n.setupSlides(),n.setupWrapper()}),e.on("destroy",function(){n.remove()}),n},Gaps:function(e,r,t){var n={apply:function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e].style,o=r.Direction.value;i[k[o][0]]=0!==e?this.value/2+"px":"",e!==t.length-1?i[k[o][1]]=this.value/2+"px":i[k[o][1]]=""}},remove:function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e].style;i.marginLeft="",i.marginRight=""}}};return h(n,"value",{get:function(){return y(e.settings.gap)}}),h(n,"grow",{get:function(){return n.value*(r.Sizes.length-1)}}),h(n,"reductor",{get:function(){var t=e.settings.perView;return n.value*(t-1)/t}}),t.on(["build.after","update"],w(function(){n.apply(r.Html.wrapper.children)},30)),t.on("destroy",function(){n.remove(r.Html.wrapper.children)}),n},Move:function(t,i,o){var e={mount:function(){this._o=0},make:function(t){var e=this,n=0<arguments.length&&void 0!==t?t:0;this.offset=n,o.emit("move",{movement:this.value}),i.Transition.after(function(){o.emit("move.after",{movement:e.value})})}};return h(e,"offset",{get:function(){return e._o},set:function(t){e._o=f(t)?0:y(t)}}),h(e,"translate",{get:function(){return i.Sizes.slideWidth*t.smm}}),h(e,"value",{get:function(){var t=this.offset,e=this.translate;return i.Direction.is("rtl")?e+t:e-t}}),o.on(["build.before","run"],function(){e.make()}),e},Clones:function(v,m,t){var e={mount:function(){this.items=[],v.isType("carousel")&&(this.items=this.collect())},collect:function(t){for(var e=0<arguments.length&&void 0!==t?t:[],n=m.Html.slides,i=v.settings,o=i.perView,r=i.classes,s=o+ +!!v.settings.peek,u=n.slice(0,s),a=n.slice(-s),c=0;c<Math.max(1,Math.floor(o/n.length));c++){for(var l=0;l<u.length;l++){var f=u[l].cloneNode(!0);f.classList.add(r.cloneSlide),e.push(f)}for(var d=0;d<a.length;d++){var h=a[d].cloneNode(!0);h.classList.add(r.cloneSlide),e.unshift(h)}}return e},append:function(){for(var t=this.items,e=m.Html,n=e.wrapper,i=e.slides,o=Math.floor(t.length/2),r=t.slice(0,o).reverse(),s=t.slice(o,t.length),u=m.Sizes.slideWidth+"px",a=0;a<s.length;a++)n.appendChild(s[a]);for(var c=0;c<r.length;c++)n.insertBefore(r[c],i[0]);for(var l=0;l<t.length;l++)t[l].style.width=u},remove:function(){for(var t=this.items,e=0;e<t.length;e++)m.Html.wrapper.removeChild(t[e])}};return h(e,"grow",{get:function(){return(m.Sizes.slideWidth+m.Gaps.value)*e.items.length}}),t.on("update",function(){e.remove(),e.mount(),e.append()}),t.on("build.before",function(){v.isType("carousel")&&e.append()}),t.on("destroy",function(){e.remove()}),e},Resize:function(t,e,n){var i=new T,o={mount:function(){this.bind()},bind:function(){i.on("resize",window,w(function(){n.emit("resize")},t.settings.throttle))},unbind:function(){i.off("resize",window)}};return n.on("destroy",function(){o.unbind(),i.destroy()}),o},Build:function(n,i,t){var e={mount:function(){t.emit("build.before"),this.typeClass(),this.activeClass(),t.emit("build.after")},typeClass:function(){i.Html.root.classList.add(n.settings.classes[n.settings.type])},activeClass:function(){var e=n.settings.classes,t=i.Html.slides[n.smm];t&&(t.classList.add(e.activeSlide),_(t).forEach(function(t){t.classList.remove(e.activeSlide)}))},removeClasses:function(){var e=n.settings.classes;i.Html.root.classList.remove(e[n.settings.type]),i.Html.slides.forEach(function(t){t.classList.remove(e.activeSlide)})}};return t.on(["destroy","update"],function(){e.removeClasses()}),t.on(["resize","update"],function(){e.mount()}),t.on("move",function(){e.activeClass()}),e},Run:function(r,n,i){var t={mount:function(){this._o=!1},make:function(t){var e=this;r.disabled||(r.disable(),this.move=t,i.emit("run.before",this.move),this.calculate(),i.emit("run",this.move),n.Transition.after(function(){e.isStart()&&i.emit("run.start",e.move),e.isEnd()&&i.emit("run.end",e.move),(e.isOffset("<")||e.isOffset(">"))&&(e._o=!1,i.emit("run.offset",e.move)),i.emit("run.after",e.move),r.enable()}))},calculate:function(){var t=this.move,e=this.length,n=t.steps,i=t.direction,o="number"==typeof y(n)&&0!==y(n);switch(i){case">":">"===n?r.index=e:this.isEnd()?r.isType("slider")&&!r.settings.rewind||(this._o=!0,r.index=0):o?r.index+=Math.min(e-r.index,-y(n)):r.index++;break;case"<":"<"===n?r.index=0:this.isStart()?r.isType("slider")&&!r.settings.rewind||(this._o=!0,r.index=e):o?r.index-=Math.min(r.index,y(n)):r.index--;break;case"=":r.index=n;break;default:u("Invalid direction pattern ["+i+n+"] has been used")}},isStart:function(){return 0===r.index},isEnd:function(){return r.index===this.length},isOffset:function(t){return this._o&&this.move.direction===t}};return h(t,"move",{get:function(){return this._m},set:function(t){var e=t.substr(1);this._m={direction:t.substr(0,1),steps:e?y(e)?y(e):e:0}}}),h(t,"length",{get:function(){var t=r.settings,e=n.Html.slides.length;return r.isType("slider")&&"center"!==t.focusAt&&t.bound?e-1-(y(t.perView)-1)+y(t.focusAt):e-1}}),h(t,"offset",{get:function(){return this._o}}),t},Swipe:function(d,h,v){var n=new T,m=0,p=0,g=0,i=!1,o=!!j&&{passive:!0},t={mount:function(){this.bindSwipeStart()},start:function(t){if(!i&&!d.disabled){this.disable();var e=this.touches(t);m=null,p=y(e.pageX),g=y(e.pageY),this.bindSwipeMove(),this.bindSwipeEnd(),v.emit("swipe.start")}},move:function(t){if(!d.disabled){var e=d.settings,n=e.touchAngle,i=e.touchRatio,o=e.classes,r=this.touches(t),s=y(r.pageX)-p,u=y(r.pageY)-g,a=Math.abs(s<<2),c=Math.abs(u<<2),l=Math.sqrt(a+c),f=Math.sqrt(c);if(!(180*(m=Math.asin(f/l))/Math.PI<n))return!1;t.stopPropagation(),h.Move.make(s*parseFloat(i)),h.Html.root.classList.add(o.dragging),v.emit("swipe.move")}},end:function(t){if(!d.disabled){var e=d.settings,n=this.touches(t),i=this.threshold(t),o=n.pageX-p,r=180*m/Math.PI,s=Math.round(o/h.Sizes.slideWidth);this.enable(),i<o&&r<e.touchAngle?(e.perTouch&&(s=Math.min(s,y(e.perTouch))),h.Direction.is("rtl")&&(s=-s),h.Run.make(h.Direction.resolve("<"+s))):o<-i&&r<e.touchAngle?(e.perTouch&&(s=Math.max(s,-y(e.perTouch))),h.Direction.is("rtl")&&(s=-s),h.Run.make(h.Direction.resolve(">"+s))):h.Move.make(),h.Html.root.classList.remove(e.classes.dragging),this.unbindSwipeMove(),this.unbindSwipeEnd(),v.emit("swipe.end")}},bindSwipeStart:function(){var e=this,t=d.settings;t.swipeThreshold&&n.on(E[0],h.Html.wrapper,function(t){e.start(t)},o),t.dragThreshold&&n.on(E[1],h.Html.wrapper,function(t){e.start(t)},o)},unbindSwipeStart:function(){n.off(E[0],h.Html.wrapper,o),n.off(E[1],h.Html.wrapper,o)},bindSwipeMove:function(){var e=this;n.on(z,h.Html.wrapper,w(function(t){e.move(t)},d.settings.throttle),o)},unbindSwipeMove:function(){n.off(z,h.Html.wrapper,o)},bindSwipeEnd:function(){var e=this;n.on(D,h.Html.wrapper,function(t){e.end(t)})},unbindSwipeEnd:function(){n.off(D,h.Html.wrapper)},touches:function(t){return-1<R.indexOf(t.type)?t:t.touches[0]||t.changedTouches[0]},threshold:function(t){var e=d.settings;return-1<R.indexOf(t.type)?e.dragThreshold:e.swipeThreshold},enable:function(){return i=!1,h.Transition.enable(),this},disable:function(){return i=!0,h.Transition.disable(),this}};return v.on("build.after",function(){h.Html.root.classList.add(d.settings.classes.swipeable)}),v.on("destroy",function(){t.unbindSwipeStart(),t.unbindSwipeMove(),t.unbindSwipeEnd(),n.destroy()}),t},Images:function(t,e,n){var i=new T,o={mount:function(){this.bind()},bind:function(){i.on("dragstart",e.Html.wrapper,this.dragstart)},unbind:function(){i.off("dragstart",e.Html.wrapper)},dragstart:function(t){t.preventDefault()}};return n.on("destroy",function(){o.unbind(),i.destroy()}),o},Anchors:function(t,e,n){var i=new T,o=!1,r=!1,s={mount:function(){this._a=e.Html.wrapper.querySelectorAll("a"),this.bind()},bind:function(){i.on("click",e.Html.wrapper,this.click)},unbind:function(){i.off("click",e.Html.wrapper)},click:function(t){r&&(t.stopPropagation(),t.preventDefault())},detach:function(){if(r=!0,!o){for(var t=0;t<this.items.length;t++)this.items[t].draggable=!1,this.items[t].setAttribute("data-href",this.items[t].getAttribute("href")),this.items[t].removeAttribute("href");o=!0}return this},attach:function(){if(r=!1,o){for(var t=0;t<this.items.length;t++)this.items[t].draggable=!0,this.items[t].setAttribute("href",this.items[t].getAttribute("data-href"));o=!1}return this}};return h(s,"items",{get:function(){return s._a}}),n.on("swipe.move",function(){s.detach()}),n.on("swipe.end",function(){e.Transition.after(function(){s.attach()})}),n.on("destroy",function(){s.attach(),s.unbind(),i.destroy()}),s},Controls:function(i,e,t){var n=new T,o=!!j&&{passive:!0},r={mount:function(){this._n=e.Html.root.querySelectorAll('[data-glide-el="controls[nav]"]'),this._c=e.Html.root.querySelectorAll('[data-glide-el^="controls"]'),this.addBindings()},setActive:function(){for(var t=0;t<this._n.length;t++)this.addClass(this._n[t].children)},removeActive:function(){for(var t=0;t<this._n.length;t++)this.removeClass(this._n[t].children)},addClass:function(t){var e=i.settings,n=t[i.smm];n&&(n.classList.add(e.classes.activeNav),_(n).forEach(function(t){t.classList.remove(e.classes.activeNav)}))},removeClass:function(t){var e=t[i.smm];e&&e.classList.remove(i.settings.classes.activeNav)},addBindings:function(){for(var t=0;t<this._c.length;t++)this.bind(this._c[t].children)},removeBindings:function(){for(var t=0;t<this._c.length;t++)this.unbind(this._c[t].children)},bind:function(t){for(var e=0;e<t.length;e++)n.on("click",t[e],this.click),n.on("touchstart",t[e],this.click,o)},unbind:function(t){for(var e=0;e<t.length;e++)n.off(["click","touchstart"],t[e])},click:function(t){t.preventDefault(),e.Run.make(e.Direction.resolve(t.currentTarget.getAttribute("data-glide-dir")))}};return h(r,"items",{get:function(){return r._c}}),t.on(["mount.after","move.after"],function(){r.setActive()}),t.on("destroy",function(){r.removeBindings(),r.removeActive(),n.destroy()}),r},Keyboard:function(t,e,n){var i=new T,o={mount:function(){t.settings.keyboard&&this.bind()},bind:function(){i.on("keyup",document,this.press)},unbind:function(){i.off("keyup",document)},press:function(t){39===t.keyCode&&e.Run.make(e.Direction.resolve(">")),37===t.keyCode&&e.Run.make(e.Direction.resolve("<"))}};return n.on(["destroy","update"],function(){o.unbind()}),n.on("update",function(){o.mount()}),n.on("destroy",function(){i.destroy()}),o},Autoplay:function(e,n,t){var i=new T,o={mount:function(){this.start(),e.settings.hoverpause&&this.bind()},start:function(){var t=this;e.settings.autoplay&&f(this._i)&&(this._i=setInterval(function(){t.stop(),n.Run.make(">"),t.start()},this.time))},stop:function(){this._i=clearInterval(this._i)},bind:function(){var t=this;i.on("mouseover",n.Html.root,function(){t.stop()}),i.on("mouseout",n.Html.root,function(){t.start()})},unbind:function(){i.off(["mouseover","mouseout"],n.Html.root)}};return h(o,"time",{get:function(){var t=n.Html.slides[e.smm].getAttribute("data-glide-autoplay");return y(t||e.settings.autoplay)}}),t.on(["destroy","update"],function(){o.unbind()}),t.on(["run.before","pause","destroy","swipe.start","update"],function(){o.stop()}),t.on(["run.after","play","swipe.end"],function(){o.start()}),t.on("update",function(){o.mount()}),t.on("destroy",function(){i.destroy()}),o},Breakpoints:function(t,e,n){var i=new T,o=t.settings,r=W(o.breakpoints),s=a({},o),u={match:function(t){if(void 0!==window.matchMedia)for(var e in t)if(t.hasOwnProperty(e)&&window.matchMedia("(max-width: "+e+"px)").matches)return t[e];return s}};return a(o,u.match(r)),i.on("resize",window,w(function(){t.settings=v(o,u.match(r))},t.settings.throttle)),n.on("update",function(){r=W(r),s=a({},o)}),n.on("destroy",function(){i.off("resize",window)}),u}};function B(){return i(this,B),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(B.__proto__||Object.getPrototypeOf(B)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(B,p),t(B,[{key:"mount",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};return function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(i):void 0}(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"mount",this).call(this,a({},q,e))}}]),B});for(var btnModalOpen=document.querySelectorAll(".modal-show"),btnModalClose=document.querySelector(".modal-close"),modalWindow=document.querySelector(".modal"),modalInnerLayer=document.querySelector(".modal-inner-layer"),htmlBlock=document.querySelector("html"),b=0;b<btnModalOpen.length;b+=1)btnModalOpen[b].addEventListener("click",function(){modalWindow.classList.add("modal-open"),htmlBlock.style.overflow="hidden"});modalInnerLayer.addEventListener("click",function(){modalWindow.classList.remove("modal-open"),htmlBlock.style.overflow="visible"}),btnModalClose.addEventListener("click",function(){modalWindow.classList.remove("modal-open"),htmlBlock.style.overflow="visible"});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZ2xvYmFsIiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJHbGlkZSIsInRoaXMiLCJkZWZhdWx0cyIsInR5cGUiLCJzdGFydEF0IiwicGVyVmlldyIsImZvY3VzQXQiLCJnYXAiLCJhdXRvcGxheSIsImhvdmVycGF1c2UiLCJrZXlib2FyZCIsImJvdW5kIiwic3dpcGVUaHJlc2hvbGQiLCJkcmFnVGhyZXNob2xkIiwicGVyVG91Y2giLCJ0b3VjaFJhdGlvIiwidG91Y2hBbmdsZSIsImFuaW1hdGlvbkR1cmF0aW9uIiwicmV3aW5kIiwicmV3aW5kRHVyYXRpb24iLCJhbmltYXRpb25UaW1pbmdGdW5jIiwidGhyb3R0bGUiLCJkaXJlY3Rpb24iLCJwZWVrIiwiYnJlYWtwb2ludHMiLCJjbGFzc2VzIiwibHRyIiwicnRsIiwic2xpZGVyIiwiY2Fyb3VzZWwiLCJzd2lwZWFibGUiLCJkcmFnZ2luZyIsImNsb25lU2xpZGUiLCJhY3RpdmVOYXYiLCJhY3RpdmVTbGlkZSIsImRpc2FibGVkQXJyb3ciLCJ3YXJuIiwibXNnIiwiY29uc29sZSIsImVycm9yIiwiY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwib2JqIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJjcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJfZXh0ZW5kcyIsImFzc2lnbiIsImFyZ3VtZW50cyIsInNvdXJjZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInRvSW50IiwidmFsdWUiLCJwYXJzZUludCIsImlzU3RyaW5nIiwiaXNPYmplY3QiLCJpc0Z1bmN0aW9uIiwiaXNVbmRlZmluZWQiLCJpc0FycmF5IiwiQXJyYXkiLCJwcm9wIiwiZGVmaW5pdGlvbiIsIm1lcmdlT3B0aW9ucyIsInNldHRpbmdzIiwib3B0aW9ucyIsIkV2ZW50c0J1cyIsImV2ZW50IiwiaGFuZGxlciIsIm9uIiwiaG9wIiwiZXZlbnRzIiwiaW5kZXgiLCJwdXNoIiwicmVtb3ZlIiwiY29udGV4dCIsImVtaXQiLCJmb3JFYWNoIiwiaXRlbSIsInVuZGVmaW5lZCIsImV4dGVuc2lvbnMiLCJfZSIsIl9jIiwiZ2xpZGUiLCJjb21wb25lbnRzIiwibmFtZSIsIl9uYW1lIiwibW91bnQiLCJ0cmFuc2Zvcm1lcnMiLCJfdCIsInBhdHRlcm4iLCJSdW4iLCJtYWtlIiwiZGlzdGFuY2UiLCJUcmFuc2l0aW9uIiwiZGlzYWJsZSIsIk1vdmUiLCJpbnRlcnZhbCIsImRpc2FibGVkIiwiZ2V0IiwiX28iLCJzZXQiLCJvIiwiX2kiLCJfZCIsInN0YXR1cyIsInNlbGVjdG9yIiwibm93IiwiRGF0ZSIsImdldFRpbWUiLCJmdW5jIiwid2FpdCIsInRpbWVvdXQiLCJhcmdzIiwicmVzdWx0IiwicHJldmlvdXMiLCJsYXRlciIsImxlYWRpbmciLCJhcHBseSIsInRocm90dGxlZCIsImF0IiwicmVtYWluaW5nIiwiY2xlYXJUaW1lb3V0IiwidHJhaWxpbmciLCJzZXRUaW1lb3V0IiwiY2FuY2VsIiwiTUFSR0lOX1RZUEUiLCJzaWJsaW5ncyIsIm5vZGUiLCJwYXJlbnROb2RlIiwibiIsImZpcnN0Q2hpbGQiLCJtYXRjaGVkIiwibmV4dFNpYmxpbmciLCJub2RlVHlwZSIsImV4aXN0Iiwid2luZG93IiwiSFRNTEVsZW1lbnQiLCJUUkFDS19TRUxFQ1RPUiIsIkV2ZW50c0JpbmRlciIsImVsIiwiY2xvc3VyZSIsImNhcHR1cmUiLCJsaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlZBTElEX0RJUkVDVElPTlMiLCJGTElQRURfTU9WRU1FTlRTIiwiPiIsIjwiLCI9IiwiUnRsIiwiQ29tcG9uZW50cyIsIm1vZGlmeSIsInRyYW5zbGF0ZSIsIkRpcmVjdGlvbiIsImlzIiwibXV0YXRvciIsIkV2ZW50cyIsIlRSQU5TRk9STUVSUyIsIkdhcHMiLCJzbW0iLCJDbG9uZXMiLCJncm93IiwiUGVlayIsImJlZm9yZSIsIndpZHRoIiwiU2l6ZXMiLCJzbGlkZVdpZHRoIiwiY29uY2F0IiwibXV0YXRlIiwidHJhbnNmb3JtZXIiLCJzdXBwb3J0c1Bhc3NpdmUiLCJvcHRzIiwiZSIsInN1cHBvcnRzUGFzc2l2ZSQxIiwiU1RBUlRfRVZFTlRTIiwiTU9WRV9FVkVOVFMiLCJFTkRfRVZFTlRTIiwiTU9VU0VfRVZFTlRTIiwic29ydEJyZWFrcG9pbnRzIiwicG9pbnRzIiwia2V5cyIsInNvcnQiLCJyZWR1Y2UiLCJyIiwiayIsIkNPTVBPTkVOVFMiLCJIdG1sIiwicm9vdCIsInRyYWNrIiwicXVlcnlTZWxlY3RvciIsInNsaWRlcyIsInNsaWNlIiwid3JhcHBlciIsImNoaWxkcmVuIiwiZmlsdGVyIiwic2xpZGUiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsIl9yIiwiZG9jdW1lbnQiLCJ0IiwiVHJhbnNsYXRlIiwidHJhbnNmb3JtIiwic3R5bGUiLCJpc1R5cGUiLCJpc09mZnNldCIsImFmdGVyIiwibW92ZW1lbnQiLCJjb21wb3NlIiwicHJvcGVydHkiLCJkdXJhdGlvbiIsInRyYW5zaXRpb24iLCJjYWxsYmFjayIsImVuYWJsZSIsIm9mZnNldCIsInJlc29sdmUiLCJ0b2tlbiIsInNwbGl0Iiwiam9pbiIsImFkZENsYXNzIiwiYWRkIiwicmVtb3ZlQ2xhc3MiLCJfdiIsImluZGV4T2YiLCJzZXR1cFNsaWRlcyIsInNldHVwV3JhcHBlciIsIndyYXBwZXJTaXplIiwib2Zmc2V0V2lkdGgiLCJyZWR1Y3RvciIsImxlbiIsIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCIsIl90aGlzIiwiaXRlbXMiLCJjb2xsZWN0IiwiX0dsaWRlJHNldHRpbmdzIiwicGFydCIsInN0YXJ0IiwiZW5kIiwiTWF0aCIsIm1heCIsImZsb29yIiwiY2xvbmUiLCJjbG9uZU5vZGUiLCJfY2xvbmUiLCJ1bnNoaWZ0IiwiYXBwZW5kIiwiX0NvbXBvbmVudHMkSHRtbCIsImhhbGYiLCJwcmVwZW5kIiwicmV2ZXJzZSIsImFwcGVuZENoaWxkIiwiX2kyIiwiaW5zZXJ0QmVmb3JlIiwiX2kzIiwicmVtb3ZlQ2hpbGQiLCJSZXNpemUiLCJCaW5kZXIiLCJiaW5kIiwidW5iaW5kIiwib2ZmIiwiZGVzdHJveSIsIkJ1aWxkIiwidHlwZUNsYXNzIiwiYWN0aXZlQ2xhc3MiLCJzaWJsaW5nIiwicmVtb3ZlQ2xhc3NlcyIsIm1vdmUiLCJjYWxjdWxhdGUiLCJpc1N0YXJ0IiwiaXNFbmQiLCJzdGVwcyIsImNvdW50YWJsZVN0ZXBzIiwibWluIiwiX20iLCJzdGVwIiwic3Vic3RyIiwiU3dpcGUiLCJzd2lwZVNpbiIsInN3aXBlU3RhcnRYIiwic3dpcGVTdGFydFkiLCJwYXNzaXZlIiwiYmluZFN3aXBlU3RhcnQiLCJzd2lwZSIsInRvdWNoZXMiLCJwYWdlWCIsInBhZ2VZIiwiYmluZFN3aXBlTW92ZSIsImJpbmRTd2lwZUVuZCIsInN1YkV4U3giLCJzdWJFeVN5IiwicG93RVgiLCJhYnMiLCJwb3dFWSIsInN3aXBlSHlwb3RlbnVzZSIsInNxcnQiLCJzd2lwZUNhdGhldHVzIiwiYXNpbiIsIlBJIiwic3RvcFByb3BhZ2F0aW9uIiwicGFyc2VGbG9hdCIsInRocmVzaG9sZCIsInN3aXBlRGlzdGFuY2UiLCJzd2lwZURlZyIsInJvdW5kIiwidW5iaW5kU3dpcGVNb3ZlIiwidW5iaW5kU3dpcGVFbmQiLCJ1bmJpbmRTd2lwZVN0YXJ0IiwiX3RoaXMyIiwiX3RoaXMzIiwiY2hhbmdlZFRvdWNoZXMiLCJJbWFnZXMiLCJkcmFnc3RhcnQiLCJwcmV2ZW50RGVmYXVsdCIsIkFuY2hvcnMiLCJkZXRhY2hlZCIsInByZXZlbnRlZCIsIl9hIiwicXVlcnlTZWxlY3RvckFsbCIsImNsaWNrIiwiZGV0YWNoIiwiZHJhZ2dhYmxlIiwic2V0QXR0cmlidXRlIiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiYXR0YWNoIiwiQ29udHJvbHMiLCJfbiIsImFkZEJpbmRpbmdzIiwic2V0QWN0aXZlIiwicmVtb3ZlQWN0aXZlIiwiY29udHJvbHMiLCJyZW1vdmVCaW5kaW5ncyIsImVsZW1lbnRzIiwiY3VycmVudFRhcmdldCIsIktleWJvYXJkIiwicHJlc3MiLCJrZXlDb2RlIiwiQXV0b3BsYXkiLCJzZXRJbnRlcnZhbCIsInN0b3AiLCJ0aW1lIiwiY2xlYXJJbnRlcnZhbCIsIkJyZWFrcG9pbnRzIiwibWF0Y2giLCJtYXRjaE1lZGlhIiwicG9pbnQiLCJtYXRjaGVzIiwiR2xpZGUkJDEiLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiX19wcm90b19fIiwiZ2V0UHJvdG90eXBlT2YiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJzZXRQcm90b3R5cGVPZiIsImluaGVyaXRzIiwib2JqZWN0IiwicmVjZWl2ZXIiLCJGdW5jdGlvbiIsImRlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJwYXJlbnQiLCJnZXR0ZXIiLCJidG5Nb2RhbE9wZW4iLCJidG5Nb2RhbENsb3NlIiwibW9kYWxXaW5kb3ciLCJtb2RhbElubmVyTGF5ZXIiLCJodG1sQmxvY2siLCJiIiwib3ZlcmZsb3ciXSwibWFwcGluZ3MiOiJDQU1DLFNBQVVBLEVBQVFDLEdBQ0UsaUJBQVpDLFNBQTBDLG9CQUFYQyxPQUF5QkEsT0FBT0QsUUFBVUQsSUFDOUQsbUJBQVhHLFFBQXlCQSxPQUFPQyxJQUFNRCxPQUFPSCxHQUNuREQsRUFBT00sTUFBUUwsSUFIbEIsQ0FJRU0sS0FBTSxXQUFlLGFBRXJCLElBQUlDLEVBQVcsQ0FVYkMsS0FBTSxTQU9OQyxRQUFTLEVBT1RDLFFBQVMsRUFXVEMsUUFBUyxFQU9U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SyxTQUFTVixjQUFjLHNCQUN6Q3FMLFVBQVkzSyxTQUFTVixjQUFjLFFBRS9Cc0wsRUFBSSxFQUFHQSxFQUFJTCxhQUFhMVUsT0FBUStVLEdBQUssRUFDM0NMLGFBQWFLLEdBQUdyTyxpQkFBaUIsUUFBUyxXQUN4Q2tPLFlBQVk1SyxVQUFVd0IsSUFBSSxjQUMxQnNKLFVBQVV2SyxNQUFNeUssU0FBVyxXQUkvQkgsZ0JBQWdCbk8saUJBQWlCLFFBQVMsV0FDeENrTyxZQUFZNUssVUFBVTVILE9BQU8sY0FDN0IwUyxVQUFVdkssTUFBTXlLLFNBQVcsWUFHN0JMLGNBQWNqTyxpQkFBaUIsUUFBUyxXQUN0Q2tPLFlBQVk1SyxVQUFVNUgsT0FBTyxjQUM3QjBTLFVBQVV2SyxNQUFNeUssU0FBVyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXHJcbiAqIEdsaWRlLmpzIHYzLjQuMVxyXG4gKiAoYykgMjAxMy0yMDE5IErEmWRyemVqIENoYcWCdWJlayA8amVkcnplai5jaGFsdWJla0BnbWFpbC5jb20+IChodHRwOi8vamVkcnplamNoYWx1YmVrLmNvbS8pXHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xyXG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcclxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxyXG4gIChnbG9iYWwuR2xpZGUgPSBmYWN0b3J5KCkpO1xyXG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgdmFyIGRlZmF1bHRzID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBUeXBlIG9mIHRoZSBtb3ZlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBBdmFpbGFibGUgdHlwZXM6XHJcbiAgICAgKiBgc2xpZGVyYCAtIFJld2luZHMgc2xpZGVyIHRvIHRoZSBzdGFydC9lbmQgd2hlbiBpdCByZWFjaGVzIHRoZSBmaXJzdCBvciBsYXN0IHNsaWRlLlxyXG4gICAgICogYGNhcm91c2VsYCAtIENoYW5nZXMgc2xpZGVzIHdpdGhvdXQgc3RhcnRpbmcgb3ZlciB3aGVuIGl0IHJlYWNoZXMgdGhlIGZpcnN0IG9yIGxhc3Qgc2xpZGUuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge1N0cmluZ31cclxuICAgICAqL1xyXG4gICAgdHlwZTogJ3NsaWRlcicsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdGFydCBhdCBzcGVjaWZpYyBzbGlkZSBudW1iZXIgZGVmaW5lZCB3aXRoIHplcm8tYmFzZWQgaW5kZXguXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge051bWJlcn1cclxuICAgICAqL1xyXG4gICAgc3RhcnRBdDogMCxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgbnVtYmVyIG9mIHNsaWRlcyB2aXNpYmxlIG9uIHRoZSBzaW5nbGUgdmlld3BvcnQuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge051bWJlcn1cclxuICAgICAqL1xyXG4gICAgcGVyVmlldzogMSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEZvY3VzIGN1cnJlbnRseSBhY3RpdmUgc2xpZGUgYXQgYSBzcGVjaWZpZWQgcG9zaXRpb24gaW4gdGhlIHRyYWNrLlxyXG4gICAgICpcclxuICAgICAqIEF2YWlsYWJsZSBpbnB1dHM6XHJcbiAgICAgKiBgY2VudGVyYCAtIEN1cnJlbnQgc2xpZGUgd2lsbCBiZSBhbHdheXMgZm9jdXNlZCBhdCB0aGUgY2VudGVyIG9mIGEgdHJhY2suXHJcbiAgICAgKiBgMCwxLDIsMy4uLmAgLSBDdXJyZW50IHNsaWRlIHdpbGwgYmUgZm9jdXNlZCBvbiB0aGUgc3BlY2lmaWVkIHplcm8tYmFzZWQgaW5kZXguXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge1N0cmluZ3xOdW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIGZvY3VzQXQ6IDAsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBIHNpemUgb2YgdGhlIGdhcCBhZGRlZCBiZXR3ZWVuIHNsaWRlcy5cclxuICAgICAqXHJcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBnYXA6IDEwLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hhbmdlIHNsaWRlcyBhZnRlciBhIHNwZWNpZmllZCBpbnRlcnZhbC4gVXNlIGBmYWxzZWAgZm9yIHR1cm5pbmcgb2ZmIGF1dG9wbGF5LlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtOdW1iZXJ8Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgYXV0b3BsYXk6IGZhbHNlLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RvcCBhdXRvcGxheSBvbiBtb3VzZW92ZXIgZXZlbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGhvdmVycGF1c2U6IHRydWUsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBbGxvdyBmb3IgY2hhbmdpbmcgc2xpZGVzIHdpdGggbGVmdCBhbmQgcmlnaHQga2V5Ym9hcmQgYXJyb3dzLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBrZXlib2FyZDogdHJ1ZSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3AgcnVubmluZyBgcGVyVmlld2AgbnVtYmVyIG9mIHNsaWRlcyBmcm9tIHRoZSBlbmQuIFVzZSB0aGlzXHJcbiAgICAgKiBvcHRpb24gaWYgeW91IGRvbid0IHdhbnQgdG8gaGF2ZSBhbiBlbXB0eSBzcGFjZSBhZnRlclxyXG4gICAgICogYSBzbGlkZXIuIFdvcmtzIG9ubHkgd2l0aCBgc2xpZGVyYCB0eXBlIGFuZCBhXHJcbiAgICAgKiBub24tY2VudGVyZWQgYGZvY3VzQXRgIHNldHRpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGJvdW5kOiBmYWxzZSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIE1pbmltYWwgc3dpcGUgZGlzdGFuY2UgbmVlZGVkIHRvIGNoYW5nZSB0aGUgc2xpZGUuIFVzZSBgZmFsc2VgIGZvciB0dXJuaW5nIG9mZiBhIHN3aXBpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge051bWJlcnxCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBzd2lwZVRocmVzaG9sZDogODAsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNaW5pbWFsIG1vdXNlIGRyYWcgZGlzdGFuY2UgbmVlZGVkIHRvIGNoYW5nZSB0aGUgc2xpZGUuIFVzZSBgZmFsc2VgIGZvciB0dXJuaW5nIG9mZiBhIGRyYWdnaW5nLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtOdW1iZXJ8Qm9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgZHJhZ1RocmVzaG9sZDogMTIwLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSBtYXhpbXVtIG51bWJlciBvZiBzbGlkZXMgdG8gd2hpY2ggbW92ZW1lbnQgd2lsbCBiZSBtYWRlIG9uIHN3aXBpbmcgb3IgZHJhZ2dpbmcuIFVzZSBgZmFsc2VgIGZvciB1bmxpbWl0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge051bWJlcnxCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBwZXJUb3VjaDogZmFsc2UsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNb3ZpbmcgZGlzdGFuY2UgcmF0aW8gb2YgdGhlIHNsaWRlcyBvbiBhIHN3aXBpbmcgYW5kIGRyYWdnaW5nLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIHRvdWNoUmF0aW86IDAuNSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFuZ2xlIHJlcXVpcmVkIHRvIGFjdGl2YXRlIHNsaWRlcyBtb3Zpbmcgb24gc3dpcGluZyBvciBkcmFnZ2luZy5cclxuICAgICAqXHJcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAgICovXHJcbiAgICB0b3VjaEFuZ2xlOiA0NSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIER1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIGFuaW1hdGlvbkR1cmF0aW9uOiA0MDAsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBbGxvd3MgbG9vcGluZyB0aGUgYHNsaWRlcmAgdHlwZS4gU2xpZGVyIHdpbGwgcmV3aW5kIHRvIHRoZSBmaXJzdC9sYXN0IHNsaWRlIHdoZW4gaXQncyBhdCB0aGUgc3RhcnQvZW5kLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICByZXdpbmQ6IHRydWUsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEdXJhdGlvbiBvZiB0aGUgcmV3aW5kaW5nIGFuaW1hdGlvbiBvZiB0aGUgYHNsaWRlcmAgdHlwZSBpbiBtaWxsaXNlY29uZHMuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge051bWJlcn1cclxuICAgICAqL1xyXG4gICAgcmV3aW5kRHVyYXRpb246IDgwMCxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEVhc2luZyBmdW5jdGlvbiBmb3IgdGhlIGFuaW1hdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBhbmltYXRpb25UaW1pbmdGdW5jOiAnY3ViaWMtYmV6aWVyKC4xNjUsIC44NDAsIC40NDAsIDEpJyxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRocm90dGxlIGNvc3RseSBldmVudHMgYXQgbW9zdCBvbmNlIHBlciBldmVyeSB3YWl0IG1pbGxpc2Vjb25kcy5cclxuICAgICAqXHJcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAgICovXHJcbiAgICB0aHJvdHRsZTogMTAsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNb3ZpbmcgZGlyZWN0aW9uIG1vZGUuXHJcbiAgICAgKlxyXG4gICAgICogQXZhaWxhYmxlIGlucHV0czpcclxuICAgICAqIC0gJ2x0cicgLSBsZWZ0IHRvIHJpZ2h0IG1vdmVtZW50LFxyXG4gICAgICogLSAncnRsJyAtIHJpZ2h0IHRvIGxlZnQgbW92ZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge1N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZGlyZWN0aW9uOiAnbHRyJyxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBkaXN0YW5jZSB2YWx1ZSBvZiB0aGUgbmV4dCBhbmQgcHJldmlvdXMgdmlld3BvcnRzIHdoaWNoXHJcbiAgICAgKiBoYXZlIHRvIHBlZWsgaW4gdGhlIGN1cnJlbnQgdmlldy4gQWNjZXB0cyBudW1iZXIgYW5kXHJcbiAgICAgKiBwaXhlbHMgYXMgYSBzdHJpbmcuIExlZnQgYW5kIHJpZ2h0IHBlZWtpbmcgY2FuIGJlXHJcbiAgICAgKiBzZXQgdXAgc2VwYXJhdGVseSB3aXRoIGEgZGlyZWN0aW9ucyBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogRm9yIGV4YW1wbGU6XHJcbiAgICAgKiBgMTAwYCAtIFBlZWsgMTAwcHggb24gdGhlIGJvdGggc2lkZXMuXHJcbiAgICAgKiB7IGJlZm9yZTogMTAwLCBhZnRlcjogNTAgfWAgLSBQZWVrIDEwMHB4IG9uIHRoZSBsZWZ0IHNpZGUgYW5kIDUwcHggb24gdGhlIHJpZ2h0IHNpZGUuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge051bWJlcnxTdHJpbmd8T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBwZWVrOiAwLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29sbGVjdGlvbiBvZiBvcHRpb25zIGFwcGxpZWQgYXQgc3BlY2lmaWVkIG1lZGlhIGJyZWFrcG9pbnRzLlxyXG4gICAgICogRm9yIGV4YW1wbGU6IGRpc3BsYXkgdHdvIHNsaWRlcyBwZXIgdmlldyB1bmRlciA4MDBweC5cclxuICAgICAqIGB7XHJcbiAgICAgKiAgICc4MDBweCc6IHtcclxuICAgICAqICAgICBwZXJWaWV3OiAyXHJcbiAgICAgKiAgIH1cclxuICAgICAqIH1gXHJcbiAgICAgKi9cclxuICAgIGJyZWFrcG9pbnRzOiB7fSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbGxlY3Rpb24gb2YgaW50ZXJuYWxseSB1c2VkIEhUTUwgY2xhc3Nlcy5cclxuICAgICAqXHJcbiAgICAgKiBAdG9kbyBSZWZhY3RvciBgc2xpZGVyYCBhbmQgYGNhcm91c2VsYCBwcm9wZXJ0aWVzIHRvIHNpbmdsZSBgdHlwZTogeyBzbGlkZXI6ICcnLCBjYXJvdXNlbDogJycgfWAgb2JqZWN0XHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICBjbGFzc2VzOiB7XHJcbiAgICAgIGRpcmVjdGlvbjoge1xyXG4gICAgICAgIGx0cjogJ2dsaWRlLS1sdHInLFxyXG4gICAgICAgIHJ0bDogJ2dsaWRlLS1ydGwnXHJcbiAgICAgIH0sXHJcbiAgICAgIHNsaWRlcjogJ2dsaWRlLS1zbGlkZXInLFxyXG4gICAgICBjYXJvdXNlbDogJ2dsaWRlLS1jYXJvdXNlbCcsXHJcbiAgICAgIHN3aXBlYWJsZTogJ2dsaWRlLS1zd2lwZWFibGUnLFxyXG4gICAgICBkcmFnZ2luZzogJ2dsaWRlLS1kcmFnZ2luZycsXHJcbiAgICAgIGNsb25lU2xpZGU6ICdnbGlkZV9fc2xpZGUtLWNsb25lJyxcclxuICAgICAgYWN0aXZlTmF2OiAnZ2xpZGVfX2J1bGxldC0tYWN0aXZlJyxcclxuICAgICAgYWN0aXZlU2xpZGU6ICdnbGlkZV9fc2xpZGUtLWFjdGl2ZScsXHJcbiAgICAgIGRpc2FibGVkQXJyb3c6ICdnbGlkZV9fYXJyb3ctLWRpc2FibGVkJ1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIE91dHB1dHMgd2FybmluZyBtZXNzYWdlIHRvIHRoZSBib3dzZXIgY29uc29sZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gbXNnXHJcbiAgICogQHJldHVybiB7Vm9pZH1cclxuICAgKi9cclxuICBmdW5jdGlvbiB3YXJuKG1zZykge1xyXG4gICAgY29uc29sZS5lcnJvcihcIltHbGlkZSB3YXJuXTogXCIgKyBtc2cpO1xyXG4gIH1cclxuXHJcbiAgdmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcclxuICAgIHJldHVybiB0eXBlb2Ygb2JqO1xyXG4gIH0gOiBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcclxuICB9O1xyXG5cclxuICB2YXIgY2xhc3NDYWxsQ2hlY2sgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XHJcbiAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHZhciBjcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcclxuICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XHJcbiAgICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xyXG4gICAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcclxuICAgICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcclxuICAgICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XHJcbiAgICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcclxuICAgIH07XHJcbiAgfSgpO1xyXG5cclxuICB2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcclxuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XHJcblxyXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XHJcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcclxuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRhcmdldDtcclxuICB9O1xyXG5cclxuICB2YXIgZ2V0ID0gZnVuY3Rpb24gZ2V0KG9iamVjdCwgcHJvcGVydHksIHJlY2VpdmVyKSB7XHJcbiAgICBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7XHJcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7XHJcblxyXG4gICAgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7XHJcblxyXG4gICAgICBpZiAocGFyZW50ID09PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZ2V0KHBhcmVudCwgcHJvcGVydHksIHJlY2VpdmVyKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykge1xyXG4gICAgICByZXR1cm4gZGVzYy52YWx1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZhciBnZXR0ZXIgPSBkZXNjLmdldDtcclxuXHJcbiAgICAgIGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmFyIGluaGVyaXRzID0gZnVuY3Rpb24gKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XHJcbiAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xyXG4gICAgICBjb25zdHJ1Y3Rvcjoge1xyXG4gICAgICAgIHZhbHVlOiBzdWJDbGFzcyxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XHJcbiAgfTtcclxuXHJcbiAgdmFyIHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gPSBmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xyXG4gICAgaWYgKCFzZWxmKSB7XHJcbiAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBDb252ZXJ0cyB2YWx1ZSBlbnRlcmVkIGFzIG51bWJlclxyXG4gICAqIG9yIHN0cmluZyB0byBpbnRlZ2VyIHZhbHVlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXHJcbiAgICogQHJldHVybnMge051bWJlcn1cclxuICAgKi9cclxuICBmdW5jdGlvbiB0b0ludCh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHBhcnNlSW50KHZhbHVlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnZlcnRzIHZhbHVlIGVudGVyZWQgYXMgbnVtYmVyXHJcbiAgICogb3Igc3RyaW5nIHRvIGZsYXQgdmFsdWUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHRvRmxvYXQodmFsdWUpIHtcclxuICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgYSBzdHJpbmcuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gIHsqfSAgIHZhbHVlXHJcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgKi9cclxuICBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZyc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIGFuIG9iamVjdC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSAgeyp9IHZhbHVlXHJcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgKlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2phc2hrZW5hcy91bmRlcnNjb3JlXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcclxuICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih2YWx1ZSk7XHJcblxyXG4gICAgcmV0dXJuIHR5cGUgPT09ICdmdW5jdGlvbicgfHwgdHlwZSA9PT0gJ29iamVjdCcgJiYgISF2YWx1ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1taXhlZC1vcGVyYXRvcnNcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgYSBudW1iZXIuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gIHsqfSB2YWx1ZVxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCB2YWx1ZSBpcyBhIGZ1bmN0aW9uLlxyXG4gICAqXHJcbiAgICogQHBhcmFtICB7Kn0gdmFsdWVcclxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIHVuZGVmaW5lZC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSAgeyp9IHZhbHVlXHJcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgKi9cclxuICBmdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIGFuIGFycmF5LlxyXG4gICAqXHJcbiAgICogQHBhcmFtICB7Kn0gdmFsdWVcclxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGlzQXJyYXkodmFsdWUpIHtcclxuICAgIHJldHVybiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQXJyYXk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGVzIGFuZCBpbml0aWFsaXplcyBzcGVjaWZpZWQgY29sbGVjdGlvbiBvZiBleHRlbnNpb25zLlxyXG4gICAqIEVhY2ggZXh0ZW5zaW9uIHJlY2VpdmVzIGFjY2VzcyB0byBpbnN0YW5jZSBvZiBnbGlkZSBhbmQgcmVzdCBvZiBjb21wb25lbnRzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGdsaWRlXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGV4dGVuc2lvbnNcclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gbW91bnQoZ2xpZGUsIGV4dGVuc2lvbnMsIGV2ZW50cykge1xyXG4gICAgdmFyIGNvbXBvbmVudHMgPSB7fTtcclxuXHJcbiAgICBmb3IgKHZhciBuYW1lIGluIGV4dGVuc2lvbnMpIHtcclxuICAgICAgaWYgKGlzRnVuY3Rpb24oZXh0ZW5zaW9uc1tuYW1lXSkpIHtcclxuICAgICAgICBjb21wb25lbnRzW25hbWVdID0gZXh0ZW5zaW9uc1tuYW1lXShnbGlkZSwgY29tcG9uZW50cywgZXZlbnRzKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB3YXJuKCdFeHRlbnNpb24gbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBfbmFtZSBpbiBjb21wb25lbnRzKSB7XHJcbiAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbXBvbmVudHNbX25hbWVdLm1vdW50KSkge1xyXG4gICAgICAgIGNvbXBvbmVudHNbX25hbWVdLm1vdW50KCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY29tcG9uZW50cztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERlZmluZXMgZ2V0dGVyIGFuZCBzZXR0ZXIgcHJvcGVydHkgb24gdGhlIHNwZWNpZmllZCBvYmplY3QuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IG9iaiAgICAgICAgIE9iamVjdCB3aGVyZSBwcm9wZXJ0eSBoYXMgdG8gYmUgZGVmaW5lZC5cclxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHByb3AgICAgICAgIE5hbWUgb2YgdGhlIGRlZmluZWQgcHJvcGVydHkuXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBkZWZpbml0aW9uICBHZXQgYW5kIHNldCBkZWZpbml0aW9ucyBmb3IgdGhlIHByb3BlcnR5LlxyXG4gICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZGVmaW5lKG9iaiwgcHJvcCwgZGVmaW5pdGlvbikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgcHJvcCwgZGVmaW5pdGlvbik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTb3J0cyBhcGhhYmV0aWNhbGx5IG9iamVjdCBrZXlzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBvYmpcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gc29ydEtleXMob2JqKSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5zb3J0KCkucmVkdWNlKGZ1bmN0aW9uIChyLCBrKSB7XHJcbiAgICAgIHJba10gPSBvYmpba107XHJcblxyXG4gICAgICByZXR1cm4gcltrXSwgcjtcclxuICAgIH0sIHt9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE1lcmdlcyBwYXNzZWQgc2V0dGluZ3Mgb2JqZWN0IHdpdGggZGVmYXVsdCBvcHRpb25zLlxyXG4gICAqXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBkZWZhdWx0c1xyXG4gICAqIEBwYXJhbSAge09iamVjdH0gc2V0dGluZ3NcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gbWVyZ2VPcHRpb25zKGRlZmF1bHRzLCBzZXR0aW5ncykge1xyXG4gICAgdmFyIG9wdGlvbnMgPSBfZXh0ZW5kcyh7fSwgZGVmYXVsdHMsIHNldHRpbmdzKTtcclxuXHJcbiAgICAvLyBgT2JqZWN0LmFzc2lnbmAgZG8gbm90IGRlZXBseSBtZXJnZSBvYmplY3RzLCBzbyB3ZVxyXG4gICAgLy8gaGF2ZSB0byBkbyBpdCBtYW51YWxseSBmb3IgZXZlcnkgbmVzdGVkIG9iamVjdFxyXG4gICAgLy8gaW4gb3B0aW9ucy4gQWx0aG91Z2ggaXQgZG9lcyBub3QgbG9vayBzbWFydCxcclxuICAgIC8vIGl0J3Mgc21hbGxlciBhbmQgZmFzdGVyIHRoYW4gc29tZSBmYW5jeVxyXG4gICAgLy8gbWVyZ2luZyBkZWVwLW1lcmdlIGFsZ29yaXRobSBzY3JpcHQuXHJcbiAgICBpZiAoc2V0dGluZ3MuaGFzT3duUHJvcGVydHkoJ2NsYXNzZXMnKSkge1xyXG4gICAgICBvcHRpb25zLmNsYXNzZXMgPSBfZXh0ZW5kcyh7fSwgZGVmYXVsdHMuY2xhc3Nlcywgc2V0dGluZ3MuY2xhc3Nlcyk7XHJcblxyXG4gICAgICBpZiAoc2V0dGluZ3MuY2xhc3Nlcy5oYXNPd25Qcm9wZXJ0eSgnZGlyZWN0aW9uJykpIHtcclxuICAgICAgICBvcHRpb25zLmNsYXNzZXMuZGlyZWN0aW9uID0gX2V4dGVuZHMoe30sIGRlZmF1bHRzLmNsYXNzZXMuZGlyZWN0aW9uLCBzZXR0aW5ncy5jbGFzc2VzLmRpcmVjdGlvbik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2V0dGluZ3MuaGFzT3duUHJvcGVydHkoJ2JyZWFrcG9pbnRzJykpIHtcclxuICAgICAgb3B0aW9ucy5icmVha3BvaW50cyA9IF9leHRlbmRzKHt9LCBkZWZhdWx0cy5icmVha3BvaW50cywgc2V0dGluZ3MuYnJlYWtwb2ludHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBvcHRpb25zO1xyXG4gIH1cclxuXHJcbiAgdmFyIEV2ZW50c0J1cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0IGEgRXZlbnRCdXMgaW5zdGFuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50c1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBFdmVudHNCdXMoKSB7XHJcbiAgICAgIHZhciBldmVudHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xyXG4gICAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBFdmVudHNCdXMpO1xyXG5cclxuICAgICAgdGhpcy5ldmVudHMgPSBldmVudHM7XHJcbiAgICAgIHRoaXMuaG9wID0gZXZlbnRzLmhhc093blByb3BlcnR5O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBsaXN0ZW5lciB0byB0aGUgc3BlY2lmZWQgZXZlbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXl9IGV2ZW50XHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXHJcbiAgICAgKi9cclxuXHJcblxyXG4gICAgY3JlYXRlQ2xhc3MoRXZlbnRzQnVzLCBbe1xyXG4gICAgICBrZXk6ICdvbicsXHJcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbihldmVudCwgaGFuZGxlcikge1xyXG4gICAgICAgIGlmIChpc0FycmF5KGV2ZW50KSkge1xyXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLm9uKGV2ZW50W2ldLCBoYW5kbGVyKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgZXZlbnQncyBvYmplY3QgaWYgbm90IHlldCBjcmVhdGVkXHJcbiAgICAgICAgaWYgKCF0aGlzLmhvcC5jYWxsKHRoaXMuZXZlbnRzLCBldmVudCkpIHtcclxuICAgICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50XSA9IFtdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQWRkIHRoZSBoYW5kbGVyIHRvIHF1ZXVlXHJcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5ldmVudHNbZXZlbnRdLnB1c2goaGFuZGxlcikgLSAxO1xyXG5cclxuICAgICAgICAvLyBQcm92aWRlIGhhbmRsZSBiYWNrIGZvciByZW1vdmFsIG9mIGV2ZW50XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5ldmVudHNbZXZlbnRdW2luZGV4XTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogUnVucyByZWdpc3RlcmVkIGhhbmRsZXJzIGZvciBzcGVjaWZpZWQgZXZlbnQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5fSBldmVudFxyXG4gICAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbnRleHRcclxuICAgICAgICovXHJcblxyXG4gICAgfSwge1xyXG4gICAgICBrZXk6ICdlbWl0JyxcclxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGVtaXQoZXZlbnQsIGNvbnRleHQpIHtcclxuICAgICAgICBpZiAoaXNBcnJheShldmVudCkpIHtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KGV2ZW50W2ldLCBjb250ZXh0KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIHRoZSBldmVudCBkb2Vzbid0IGV4aXN0LCBvciB0aGVyZSdzIG5vIGhhbmRsZXJzIGluIHF1ZXVlLCBqdXN0IGxlYXZlXHJcbiAgICAgICAgaWYgKCF0aGlzLmhvcC5jYWxsKHRoaXMuZXZlbnRzLCBldmVudCkpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEN5Y2xlIHRocm91Z2ggZXZlbnRzIHF1ZXVlLCBmaXJlIVxyXG4gICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50XS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICBpdGVtKGNvbnRleHQgfHwge30pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XSk7XHJcbiAgICByZXR1cm4gRXZlbnRzQnVzO1xyXG4gIH0oKTtcclxuXHJcbiAgdmFyIEdsaWRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3QgZ2xpZGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBzZWxlY3RvclxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIEdsaWRlKHNlbGVjdG9yKSB7XHJcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcclxuICAgICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgR2xpZGUpO1xyXG5cclxuICAgICAgdGhpcy5fYyA9IHt9O1xyXG4gICAgICB0aGlzLl90ID0gW107XHJcbiAgICAgIHRoaXMuX2UgPSBuZXcgRXZlbnRzQnVzKCk7XHJcblxyXG4gICAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcclxuICAgICAgdGhpcy5zZXR0aW5ncyA9IG1lcmdlT3B0aW9ucyhkZWZhdWx0cywgb3B0aW9ucyk7XHJcbiAgICAgIHRoaXMuaW5kZXggPSB0aGlzLnNldHRpbmdzLnN0YXJ0QXQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplcyBnbGlkZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXh0ZW5zaW9ucyBDb2xsZWN0aW9uIG9mIGV4dGVuc2lvbnMgdG8gaW5pdGlhbGl6ZS5cclxuICAgICAqIEByZXR1cm4ge0dsaWRlfVxyXG4gICAgICovXHJcblxyXG5cclxuICAgIGNyZWF0ZUNsYXNzKEdsaWRlLCBbe1xyXG4gICAgICBrZXk6ICdtb3VudCcsXHJcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBtb3VudCQkMSgpIHtcclxuICAgICAgICB2YXIgZXh0ZW5zaW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XHJcblxyXG4gICAgICAgIHRoaXMuX2UuZW1pdCgnbW91bnQuYmVmb3JlJyk7XHJcblxyXG4gICAgICAgIGlmIChpc09iamVjdChleHRlbnNpb25zKSkge1xyXG4gICAgICAgICAgdGhpcy5fYyA9IG1vdW50KHRoaXMsIGV4dGVuc2lvbnMsIHRoaXMuX2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB3YXJuKCdZb3UgbmVlZCB0byBwcm92aWRlIGEgb2JqZWN0IG9uIGBtb3VudCgpYCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fZS5lbWl0KCdtb3VudC5hZnRlcicpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIENvbGxlY3RzIGFuIGluc3RhbmNlIGB0cmFuc2xhdGVgIHRyYW5zZm9ybWVycy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtICB7QXJyYXl9IHRyYW5zZm9ybWVycyBDb2xsZWN0aW9uIG9mIHRyYW5zZm9ybWVycy5cclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcblxyXG4gICAgfSwge1xyXG4gICAgICBrZXk6ICdtdXRhdGUnLFxyXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gbXV0YXRlKCkge1xyXG4gICAgICAgIHZhciB0cmFuc2Zvcm1lcnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdO1xyXG5cclxuICAgICAgICBpZiAoaXNBcnJheSh0cmFuc2Zvcm1lcnMpKSB7XHJcbiAgICAgICAgICB0aGlzLl90ID0gdHJhbnNmb3JtZXJzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB3YXJuKCdZb3UgbmVlZCB0byBwcm92aWRlIGEgYXJyYXkgb24gYG11dGF0ZSgpYCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBVcGRhdGVzIGdsaWRlIHdpdGggc3BlY2lmaWVkIHNldHRpbmdzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gc2V0dGluZ3NcclxuICAgICAgICogQHJldHVybiB7R2xpZGV9XHJcbiAgICAgICAqL1xyXG5cclxuICAgIH0sIHtcclxuICAgICAga2V5OiAndXBkYXRlJyxcclxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcclxuICAgICAgICB2YXIgc2V0dGluZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xyXG5cclxuICAgICAgICB0aGlzLnNldHRpbmdzID0gbWVyZ2VPcHRpb25zKHRoaXMuc2V0dGluZ3MsIHNldHRpbmdzKTtcclxuXHJcbiAgICAgICAgaWYgKHNldHRpbmdzLmhhc093blByb3BlcnR5KCdzdGFydEF0JykpIHtcclxuICAgICAgICAgIHRoaXMuaW5kZXggPSBzZXR0aW5ncy5zdGFydEF0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fZS5lbWl0KCd1cGRhdGUnKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBDaGFuZ2Ugc2xpZGUgd2l0aCBzcGVjaWZpZWQgcGF0dGVybi4gQSBwYXR0ZXJuIG11c3QgYmUgaW4gdGhlIHNwZWNpYWwgZm9ybWF0OlxyXG4gICAgICAgKiBgPmAgLSBNb3ZlIG9uZSBmb3J3YXJkXHJcbiAgICAgICAqIGA8YCAtIE1vdmUgb25lIGJhY2t3YXJkXHJcbiAgICAgICAqIGA9e2l9YCAtIEdvIHRvIHtpfSB6ZXJvLWJhc2VkIHNsaWRlIChlcS4gJz0xJywgd2lsbCBnbyB0byBzZWNvbmQgc2xpZGUpXHJcbiAgICAgICAqIGA+PmAgLSBSZXdpbmRzIHRvIGVuZCAobGFzdCBzbGlkZSlcclxuICAgICAgICogYDw8YCAtIFJld2luZHMgdG8gc3RhcnQgKGZpcnN0IHNsaWRlKVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0dGVyblxyXG4gICAgICAgKiBAcmV0dXJuIHtHbGlkZX1cclxuICAgICAgICovXHJcblxyXG4gICAgfSwge1xyXG4gICAgICBrZXk6ICdnbycsXHJcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnbyhwYXR0ZXJuKSB7XHJcbiAgICAgICAgdGhpcy5fYy5SdW4ubWFrZShwYXR0ZXJuKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBNb3ZlIHRyYWNrIGJ5IHNwZWNpZmllZCBkaXN0YW5jZS5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGRpc3RhbmNlXHJcbiAgICAgICAqIEByZXR1cm4ge0dsaWRlfVxyXG4gICAgICAgKi9cclxuXHJcbiAgICB9LCB7XHJcbiAgICAgIGtleTogJ21vdmUnLFxyXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gbW92ZShkaXN0YW5jZSkge1xyXG4gICAgICAgIHRoaXMuX2MuVHJhbnNpdGlvbi5kaXNhYmxlKCk7XHJcbiAgICAgICAgdGhpcy5fYy5Nb3ZlLm1ha2UoZGlzdGFuY2UpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIERlc3Ryb3kgaW5zdGFuY2UgYW5kIHJldmVydCBhbGwgY2hhbmdlcyBkb25lIGJ5IHRoaXMuX2MuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge0dsaWRlfVxyXG4gICAgICAgKi9cclxuXHJcbiAgICB9LCB7XHJcbiAgICAgIGtleTogJ2Rlc3Ryb3knLFxyXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLl9lLmVtaXQoJ2Rlc3Ryb3knKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBTdGFydCBpbnN0YW5jZSBhdXRvcGxheWluZy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtCb29sZWFufE51bWJlcn0gaW50ZXJ2YWwgUnVuIGF1dG9wbGF5aW5nIHdpdGggcGFzc2VkIGludGVydmFsIHJlZ2FyZGxlc3Mgb2YgYGF1dG9wbGF5YCBzZXR0aW5nc1xyXG4gICAgICAgKiBAcmV0dXJuIHtHbGlkZX1cclxuICAgICAgICovXHJcblxyXG4gICAgfSwge1xyXG4gICAgICBrZXk6ICdwbGF5JyxcclxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHBsYXkoKSB7XHJcbiAgICAgICAgdmFyIGludGVydmFsID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKGludGVydmFsKSB7XHJcbiAgICAgICAgICB0aGlzLnNldHRpbmdzLmF1dG9wbGF5ID0gaW50ZXJ2YWw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9lLmVtaXQoJ3BsYXknKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBTdG9wIGluc3RhbmNlIGF1dG9wbGF5aW5nLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtHbGlkZX1cclxuICAgICAgICovXHJcblxyXG4gICAgfSwge1xyXG4gICAgICBrZXk6ICdwYXVzZScsXHJcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBwYXVzZSgpIHtcclxuICAgICAgICB0aGlzLl9lLmVtaXQoJ3BhdXNlJyk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogU2V0cyBnbGlkZSBpbnRvIGEgaWRsZSBzdGF0dXMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge0dsaWRlfVxyXG4gICAgICAgKi9cclxuXHJcbiAgICB9LCB7XHJcbiAgICAgIGtleTogJ2Rpc2FibGUnLFxyXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzYWJsZSgpIHtcclxuICAgICAgICB0aGlzLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBTZXRzIGdsaWRlIGludG8gYSBhY3RpdmUgc3RhdHVzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtHbGlkZX1cclxuICAgICAgICovXHJcblxyXG4gICAgfSwge1xyXG4gICAgICBrZXk6ICdlbmFibGUnLFxyXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZW5hYmxlKCkge1xyXG4gICAgICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBBZGRzIGN1dXRvbSBldmVudCBsaXN0ZW5lciB3aXRoIGhhbmRsZXIuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSAge1N0cmluZ3xBcnJheX0gZXZlbnRcclxuICAgICAgICogQHBhcmFtICB7RnVuY3Rpb259IGhhbmRsZXJcclxuICAgICAgICogQHJldHVybiB7R2xpZGV9XHJcbiAgICAgICAqL1xyXG5cclxuICAgIH0sIHtcclxuICAgICAga2V5OiAnb24nLFxyXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gb24oZXZlbnQsIGhhbmRsZXIpIHtcclxuICAgICAgICB0aGlzLl9lLm9uKGV2ZW50LCBoYW5kbGVyKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBDaGVja3MgaWYgZ2xpZGUgaXMgYSBwcmVjaXNlZCB0eXBlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IG5hbWVcclxuICAgICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAgICovXHJcblxyXG4gICAgfSwge1xyXG4gICAgICBrZXk6ICdpc1R5cGUnLFxyXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaXNUeXBlKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy50eXBlID09PSBuYW1lO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogR2V0cyB2YWx1ZSBvZiB0aGUgY29yZSBvcHRpb25zLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICAgICAqL1xyXG5cclxuICAgIH0sIHtcclxuICAgICAga2V5OiAnc2V0dGluZ3MnLFxyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbztcclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFNldHMgdmFsdWUgb2YgdGhlIGNvcmUgb3B0aW9ucy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtICB7T2JqZWN0fSBvXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICAsXHJcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKG8pIHtcclxuICAgICAgICBpZiAoaXNPYmplY3QobykpIHtcclxuICAgICAgICAgIHRoaXMuX28gPSBvO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB3YXJuKCdPcHRpb25zIG11c3QgYmUgYW4gYG9iamVjdGAgaW5zdGFuY2UuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogR2V0cyBjdXJyZW50IGluZGV4IG9mIHRoZSBzbGlkZXIuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge09iamVjdH1cclxuICAgICAgICovXHJcblxyXG4gICAgfSwge1xyXG4gICAgICBrZXk6ICdzbW0uaHRtbCcsXHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogU2V0cyBjdXJyZW50IGluZGV4IGEgc2xpZGVyLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICAgICAqL1xyXG4gICAgICAsXHJcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKGkpIHtcclxuICAgICAgICB0aGlzLl9pID0gdG9JbnQoaSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBHZXRzIHR5cGUgbmFtZSBvZiB0aGUgc2xpZGVyLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XHJcbiAgICAgICAqL1xyXG5cclxuICAgIH0sIHtcclxuICAgICAga2V5OiAndHlwZScsXHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnR5cGU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBHZXRzIHZhbHVlIG9mIHRoZSBpZGxlIHN0YXR1cy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAgICovXHJcblxyXG4gICAgfSwge1xyXG4gICAgICBrZXk6ICdkaXNhYmxlZCcsXHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogU2V0cyB2YWx1ZSBvZiB0aGUgaWRsZSBzdGF0dXMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgICAqL1xyXG4gICAgICAsXHJcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHN0YXR1cykge1xyXG4gICAgICAgIHRoaXMuX2QgPSAhIXN0YXR1cztcclxuICAgICAgfVxyXG4gICAgfV0pO1xyXG4gICAgcmV0dXJuIEdsaWRlO1xyXG4gIH0oKTtcclxuXHJcbiAgZnVuY3Rpb24gUnVuIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XHJcbiAgICB2YXIgUnVuID0ge1xyXG4gICAgICAvKipcclxuICAgICAgICogSW5pdGlhbGl6ZXMgYXV0b3J1bm5pbmcgb2YgdGhlIGdsaWRlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgbW91bnQ6IGZ1bmN0aW9uIG1vdW50KCkge1xyXG4gICAgICAgIHRoaXMuX28gPSBmYWxzZTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogTWFrZXMgZ2xpZGVzIHJ1bm5pbmcgYmFzZWQgb24gdGhlIHBhc3NlZCBtb3Zpbmcgc2NoZW1hLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gbW92ZVxyXG4gICAgICAgKi9cclxuICAgICAgbWFrZTogZnVuY3Rpb24gbWFrZShtb3ZlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICAgICAgaWYgKCFHbGlkZS5kaXNhYmxlZCkge1xyXG4gICAgICAgICAgR2xpZGUuZGlzYWJsZSgpO1xyXG5cclxuICAgICAgICAgIHRoaXMubW92ZSA9IG1vdmU7XHJcblxyXG4gICAgICAgICAgRXZlbnRzLmVtaXQoJ3J1bi5iZWZvcmUnLCB0aGlzLm1vdmUpO1xyXG5cclxuICAgICAgICAgIHRoaXMuY2FsY3VsYXRlKCk7XHJcblxyXG4gICAgICAgICAgRXZlbnRzLmVtaXQoJ3J1bicsIHRoaXMubW92ZSk7XHJcblxyXG4gICAgICAgICAgQ29tcG9uZW50cy5UcmFuc2l0aW9uLmFmdGVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLmlzU3RhcnQoKSkge1xyXG4gICAgICAgICAgICAgIEV2ZW50cy5lbWl0KCdydW4uc3RhcnQnLCBfdGhpcy5tb3ZlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKF90aGlzLmlzRW5kKCkpIHtcclxuICAgICAgICAgICAgICBFdmVudHMuZW1pdCgncnVuLmVuZCcsIF90aGlzLm1vdmUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoX3RoaXMuaXNPZmZzZXQoJzwnKSB8fCBfdGhpcy5pc09mZnNldCgnPicpKSB7XHJcbiAgICAgICAgICAgICAgX3RoaXMuX28gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgRXZlbnRzLmVtaXQoJ3J1bi5vZmZzZXQnLCBfdGhpcy5tb3ZlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgRXZlbnRzLmVtaXQoJ3J1bi5hZnRlcicsIF90aGlzLm1vdmUpO1xyXG5cclxuICAgICAgICAgICAgR2xpZGUuZW5hYmxlKCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIENhbGN1bGF0ZXMgY3VycmVudCBpbmRleCBiYXNlZCBvbiBkZWZpbmVkIG1vdmUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBjYWxjdWxhdGU6IGZ1bmN0aW9uIGNhbGN1bGF0ZSgpIHtcclxuICAgICAgICB2YXIgbW92ZSA9IHRoaXMubW92ZSxcclxuICAgICAgICAgICAgbGVuZ3RoID0gdGhpcy5sZW5ndGg7XHJcbiAgICAgICAgdmFyIHN0ZXBzID0gbW92ZS5zdGVwcyxcclxuICAgICAgICAgICAgZGlyZWN0aW9uID0gbW92ZS5kaXJlY3Rpb247XHJcblxyXG5cclxuICAgICAgICB2YXIgY291bnRhYmxlU3RlcHMgPSBpc051bWJlcih0b0ludChzdGVwcykpICYmIHRvSW50KHN0ZXBzKSAhPT0gMDtcclxuXHJcbiAgICAgICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcclxuICAgICAgICAgIGNhc2UgJz4nOlxyXG4gICAgICAgICAgICBpZiAoc3RlcHMgPT09ICc+Jykge1xyXG4gICAgICAgICAgICAgIEdsaWRlLmluZGV4ID0gbGVuZ3RoO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNFbmQoKSkge1xyXG4gICAgICAgICAgICAgIGlmICghKEdsaWRlLmlzVHlwZSgnc2xpZGVyJykgJiYgIUdsaWRlLnNldHRpbmdzLnJld2luZCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX28gPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIEdsaWRlLmluZGV4ID0gMDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY291bnRhYmxlU3RlcHMpIHtcclxuICAgICAgICAgICAgICBHbGlkZS5pbmRleCArPSBNYXRoLm1pbihsZW5ndGggLSBHbGlkZS5pbmRleCwgLXRvSW50KHN0ZXBzKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgR2xpZGUuaW5kZXgrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlICc8JzpcclxuICAgICAgICAgICAgaWYgKHN0ZXBzID09PSAnPCcpIHtcclxuICAgICAgICAgICAgICBHbGlkZS5pbmRleCA9IDA7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc1N0YXJ0KCkpIHtcclxuICAgICAgICAgICAgICBpZiAoIShHbGlkZS5pc1R5cGUoJ3NsaWRlcicpICYmICFHbGlkZS5zZXR0aW5ncy5yZXdpbmQpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBHbGlkZS5pbmRleCA9IGxlbmd0aDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY291bnRhYmxlU3RlcHMpIHtcclxuICAgICAgICAgICAgICBHbGlkZS5pbmRleCAtPSBNYXRoLm1pbihHbGlkZS5pbmRleCwgdG9JbnQoc3RlcHMpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBHbGlkZS5pbmRleC0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2UgJz0nOlxyXG4gICAgICAgICAgICBHbGlkZS5pbmRleCA9IHN0ZXBzO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICB3YXJuKCdJbnZhbGlkIGRpcmVjdGlvbiBwYXR0ZXJuIFsnICsgZGlyZWN0aW9uICsgc3RlcHMgKyAnXSBoYXMgYmVlbiB1c2VkJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQ2hlY2tzIGlmIHdlIGFyZSBvbiB0aGUgZmlyc3Qgc2xpZGUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgICAqL1xyXG4gICAgICBpc1N0YXJ0OiBmdW5jdGlvbiBpc1N0YXJ0KCkge1xyXG4gICAgICAgIHJldHVybiBHbGlkZS5pbmRleCA9PT0gMDtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQ2hlY2tzIGlmIHdlIGFyZSBvbiB0aGUgbGFzdCBzbGlkZS5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAgICovXHJcbiAgICAgIGlzRW5kOiBmdW5jdGlvbiBpc0VuZCgpIHtcclxuICAgICAgICByZXR1cm4gR2xpZGUuaW5kZXggPT09IHRoaXMubGVuZ3RoO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBDaGVja3MgaWYgd2UgYXJlIG1ha2luZyBhIG9mZnNldCBydW4uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkaXJlY3Rpb25cclxuICAgICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAgICovXHJcbiAgICAgIGlzT2Zmc2V0OiBmdW5jdGlvbiBpc09mZnNldChkaXJlY3Rpb24pIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbyAmJiB0aGlzLm1vdmUuZGlyZWN0aW9uID09PSBkaXJlY3Rpb247XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZGVmaW5lKFJ1biwgJ21vdmUnLCB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBHZXRzIHZhbHVlIG9mIHRoZSBtb3ZlIHNjaGVtYS5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybnMge09iamVjdH1cclxuICAgICAgICovXHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9tO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBTZXRzIHZhbHVlIG9mIHRoZSBtb3ZlIHNjaGVtYS5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybnMge09iamVjdH1cclxuICAgICAgICovXHJcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIHN0ZXAgPSB2YWx1ZS5zdWJzdHIoMSk7XHJcblxyXG4gICAgICAgIHRoaXMuX20gPSB7XHJcbiAgICAgICAgICBkaXJlY3Rpb246IHZhbHVlLnN1YnN0cigwLCAxKSxcclxuICAgICAgICAgIHN0ZXBzOiBzdGVwID8gdG9JbnQoc3RlcCkgPyB0b0ludChzdGVwKSA6IHN0ZXAgOiAwXHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZGVmaW5lKFJ1biwgJ2xlbmd0aCcsIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEdldHMgdmFsdWUgb2YgdGhlIHJ1bm5pbmcgZGlzdGFuY2UgYmFzZWRcclxuICAgICAgICogb24gemVyby1pbmRleGluZyBudW1iZXIgb2Ygc2xpZGVzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICAgICAqL1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICB2YXIgc2V0dGluZ3MgPSBHbGlkZS5zZXR0aW5ncztcclxuICAgICAgICB2YXIgbGVuZ3RoID0gQ29tcG9uZW50cy5IdG1sLnNsaWRlcy5sZW5ndGg7XHJcblxyXG4gICAgICAgIC8vIElmIHRoZSBgYm91bmRgIG9wdGlvbiBpcyBhY2l0dmUsIGEgbWF4aW11bSBydW5uaW5nIGRpc3RhbmNlIHNob3VsZCBiZVxyXG4gICAgICAgIC8vIHJlZHVjZWQgYnkgYHBlclZpZXdgIGFuZCBgZm9jdXNBdGAgc2V0dGluZ3MuIFJ1bm5pbmcgZGlzdGFuY2VcclxuICAgICAgICAvLyBzaG91bGQgZW5kIGJlZm9yZSBjcmVhdGluZyBhbiBlbXB0eSBzcGFjZSBhZnRlciBpbnN0YW5jZS5cclxuXHJcbiAgICAgICAgaWYgKEdsaWRlLmlzVHlwZSgnc2xpZGVyJykgJiYgc2V0dGluZ3MuZm9jdXNBdCAhPT0gJ2NlbnRlcicgJiYgc2V0dGluZ3MuYm91bmQpIHtcclxuICAgICAgICAgIHJldHVybiBsZW5ndGggLSAxIC0gKHRvSW50KHNldHRpbmdzLnBlclZpZXcpIC0gMSkgKyB0b0ludChzZXR0aW5ncy5mb2N1c0F0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBsZW5ndGggLSAxO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZWZpbmUoUnVuLCAnb2Zmc2V0Jywge1xyXG4gICAgICAvKipcclxuICAgICAgICogR2V0cyBzdGF0dXMgb2YgdGhlIG9mZnNldHRpbmcgZmxhZy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAgICovXHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gUnVuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhIGN1cnJlbnQgdGltZS5cclxuICAgKlxyXG4gICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgKi9cclxuICBmdW5jdGlvbiBub3coKSB7XHJcbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIHdoZW4gaW52b2tlZCwgd2lsbCBvbmx5IGJlIHRyaWdnZXJlZFxyXG4gICAqIGF0IG1vc3Qgb25jZSBkdXJpbmcgYSBnaXZlbiB3aW5kb3cgb2YgdGltZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmNcclxuICAgKiBAcGFyYW0ge051bWJlcn0gd2FpdFxyXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9uc1xyXG4gICAqIEByZXR1cm4ge0Z1bmN0aW9ufVxyXG4gICAqXHJcbiAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vamFzaGtlbmFzL3VuZGVyc2NvcmVcclxuICAgKi9cclxuICBmdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XHJcbiAgICB2YXIgdGltZW91dCA9IHZvaWQgMCxcclxuICAgICAgICBjb250ZXh0ID0gdm9pZCAwLFxyXG4gICAgICAgIGFyZ3MgPSB2b2lkIDAsXHJcbiAgICAgICAgcmVzdWx0ID0gdm9pZCAwO1xyXG4gICAgdmFyIHByZXZpb3VzID0gMDtcclxuICAgIGlmICghb3B0aW9ucykgb3B0aW9ucyA9IHt9O1xyXG5cclxuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uIGxhdGVyKCkge1xyXG4gICAgICBwcmV2aW91cyA9IG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UgPyAwIDogbm93KCk7XHJcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xyXG4gICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xyXG4gICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHRocm90dGxlZCA9IGZ1bmN0aW9uIHRocm90dGxlZCgpIHtcclxuICAgICAgdmFyIGF0ID0gbm93KCk7XHJcbiAgICAgIGlmICghcHJldmlvdXMgJiYgb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSkgcHJldmlvdXMgPSBhdDtcclxuICAgICAgdmFyIHJlbWFpbmluZyA9IHdhaXQgLSAoYXQgLSBwcmV2aW91cyk7XHJcbiAgICAgIGNvbnRleHQgPSB0aGlzO1xyXG4gICAgICBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgICBpZiAocmVtYWluaW5nIDw9IDAgfHwgcmVtYWluaW5nID4gd2FpdCkge1xyXG4gICAgICAgIGlmICh0aW1lb3V0KSB7XHJcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJldmlvdXMgPSBhdDtcclxuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xyXG4gICAgICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xyXG4gICAgICB9IGVsc2UgaWYgKCF0aW1lb3V0ICYmIG9wdGlvbnMudHJhaWxpbmcgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgdGhyb3R0bGVkLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG4gICAgICBwcmV2aW91cyA9IDA7XHJcbiAgICAgIHRpbWVvdXQgPSBjb250ZXh0ID0gYXJncyA9IG51bGw7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB0aHJvdHRsZWQ7XHJcbiAgfVxyXG5cclxuICB2YXIgTUFSR0lOX1RZUEUgPSB7XHJcbiAgICBsdHI6IFsnbWFyZ2luTGVmdCcsICdtYXJnaW5SaWdodCddLFxyXG4gICAgcnRsOiBbJ21hcmdpblJpZ2h0JywgJ21hcmdpbkxlZnQnXVxyXG4gIH07XHJcblxyXG4gIGZ1bmN0aW9uIEdhcHMgKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcclxuICAgIHZhciBHYXBzID0ge1xyXG4gICAgICAvKipcclxuICAgICAgICogQXBwbGllcyBnYXBzIGJldHdlZW4gc2xpZGVzLiBGaXJzdCBhbmQgbGFzdFxyXG4gICAgICAgKiBzbGlkZXMgZG8gbm90IHJlY2VpdmUgaXQncyBlZGdlIG1hcmdpbnMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7SFRNTENvbGxlY3Rpb259IHNsaWRlc1xyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgYXBwbHk6IGZ1bmN0aW9uIGFwcGx5KHNsaWRlcykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzbGlkZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgIHZhciBzdHlsZSA9IHNsaWRlc1tpXS5zdHlsZTtcclxuICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBDb21wb25lbnRzLkRpcmVjdGlvbi52YWx1ZTtcclxuXHJcbiAgICAgICAgICBpZiAoaSAhPT0gMCkge1xyXG4gICAgICAgICAgICBzdHlsZVtNQVJHSU5fVFlQRVtkaXJlY3Rpb25dWzBdXSA9IHRoaXMudmFsdWUgLyAyICsgJ3B4JztcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0eWxlW01BUkdJTl9UWVBFW2RpcmVjdGlvbl1bMF1dID0gJyc7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGkgIT09IHNsaWRlcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIHN0eWxlW01BUkdJTl9UWVBFW2RpcmVjdGlvbl1bMV1dID0gdGhpcy52YWx1ZSAvIDIgKyAncHgnO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc3R5bGVbTUFSR0lOX1RZUEVbZGlyZWN0aW9uXVsxXV0gPSAnJztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFJlbW92ZXMgZ2FwcyBmcm9tIHRoZSBzbGlkZXMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7SFRNTENvbGxlY3Rpb259IHNsaWRlc1xyXG4gICAgICAgKiBAcmV0dXJucyB7Vm9pZH1cclxuICAgICAgKi9cclxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoc2xpZGVzKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHNsaWRlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgdmFyIHN0eWxlID0gc2xpZGVzW2ldLnN0eWxlO1xyXG5cclxuICAgICAgICAgIHN0eWxlLm1hcmdpbkxlZnQgPSAnJztcclxuICAgICAgICAgIHN0eWxlLm1hcmdpblJpZ2h0ID0gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGRlZmluZShHYXBzLCAndmFsdWUnLCB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBHZXRzIHZhbHVlIG9mIHRoZSBnYXAuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XHJcbiAgICAgICAqL1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICByZXR1cm4gdG9JbnQoR2xpZGUuc2V0dGluZ3MuZ2FwKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZGVmaW5lKEdhcHMsICdncm93Jywge1xyXG4gICAgICAvKipcclxuICAgICAgICogR2V0cyBhZGRpdGlvbmFsIGRpbWVudGlvbnMgdmFsdWUgY2F1c2VkIGJ5IGdhcHMuXHJcbiAgICAgICAqIFVzZWQgdG8gaW5jcmVhc2Ugd2lkdGggb2YgdGhlIHNsaWRlcyB3cmFwcGVyLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxyXG4gICAgICAgKi9cclxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIEdhcHMudmFsdWUgKiAoQ29tcG9uZW50cy5TaXplcy5sZW5ndGggLSAxKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZGVmaW5lKEdhcHMsICdyZWR1Y3RvcicsIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEdldHMgcmVkdWN0aW9uIHZhbHVlIGNhdXNlZCBieSBnYXBzLlxyXG4gICAgICAgKiBVc2VkIHRvIHN1YnRyYWN0IHdpZHRoIG9mIHRoZSBzbGlkZXMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XHJcbiAgICAgICAqL1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICB2YXIgcGVyVmlldyA9IEdsaWRlLnNldHRpbmdzLnBlclZpZXc7XHJcblxyXG4gICAgICAgIHJldHVybiBHYXBzLnZhbHVlICogKHBlclZpZXcgLSAxKSAvIHBlclZpZXc7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXBwbHkgY2FsY3VsYXRlZCBnYXBzOlxyXG4gICAgICogLSBhZnRlciBidWlsZGluZywgc28gc2xpZGVzIChpbmNsdWRpbmcgY2xvbmVzKSB3aWxsIHJlY2VpdmUgcHJvcGVyIG1hcmdpbnNcclxuICAgICAqIC0gb24gdXBkYXRpbmcgdmlhIEFQSSwgdG8gcmVjYWxjdWxhdGUgZ2FwcyB3aXRoIG5ldyBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbihbJ2J1aWxkLmFmdGVyJywgJ3VwZGF0ZSddLCB0aHJvdHRsZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgIEdhcHMuYXBwbHkoQ29tcG9uZW50cy5IdG1sLndyYXBwZXIuY2hpbGRyZW4pO1xyXG4gICAgfSwgMzApKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBnYXBzOlxyXG4gICAgICogLSBvbiBkZXN0cm95aW5nIHRvIGJyaW5nIG1hcmt1cCB0byBpdHMgaW5pdGFsIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbignZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgR2Fwcy5yZW1vdmUoQ29tcG9uZW50cy5IdG1sLndyYXBwZXIuY2hpbGRyZW4pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIEdhcHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBGaW5kcyBzaWJsaW5ncyBub2RlcyBvZiB0aGUgcGFzc2VkIG5vZGUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gIHtFbGVtZW50fSBub2RlXHJcbiAgICogQHJldHVybiB7QXJyYXl9XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gc2libGluZ3Mobm9kZSkge1xyXG4gICAgaWYgKG5vZGUgJiYgbm9kZS5wYXJlbnROb2RlKSB7XHJcbiAgICAgIHZhciBuID0gbm9kZS5wYXJlbnROb2RlLmZpcnN0Q2hpbGQ7XHJcbiAgICAgIHZhciBtYXRjaGVkID0gW107XHJcblxyXG4gICAgICBmb3IgKDsgbjsgbiA9IG4ubmV4dFNpYmxpbmcpIHtcclxuICAgICAgICBpZiAobi5ub2RlVHlwZSA9PT0gMSAmJiBuICE9PSBub2RlKSB7XHJcbiAgICAgICAgICBtYXRjaGVkLnB1c2gobik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbWF0Y2hlZDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gW107XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVja3MgaWYgcGFzc2VkIG5vZGUgZXhpc3QgYW5kIGlzIGEgdmFsaWQgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSAge0VsZW1lbnR9IG5vZGVcclxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGV4aXN0KG5vZGUpIHtcclxuICAgIGlmIChub2RlICYmIG5vZGUgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEVsZW1lbnQpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgdmFyIFRSQUNLX1NFTEVDVE9SID0gJ1tkYXRhLWdsaWRlLWVsPVwidHJhY2tcIl0nO1xyXG5cclxuICBmdW5jdGlvbiBIdG1sIChHbGlkZSwgQ29tcG9uZW50cykge1xyXG4gICAgdmFyIEh0bWwgPSB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBTZXR1cCBzbGlkZXIgSFRNTCBub2Rlcy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtHbGlkZX0gZ2xpZGVcclxuICAgICAgICovXHJcbiAgICAgIG1vdW50OiBmdW5jdGlvbiBtb3VudCgpIHtcclxuICAgICAgICB0aGlzLnJvb3QgPSBHbGlkZS5zZWxlY3RvcjtcclxuICAgICAgICB0aGlzLnRyYWNrID0gdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3IoVFJBQ0tfU0VMRUNUT1IpO1xyXG4gICAgICAgIHRoaXMuc2xpZGVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy53cmFwcGVyLmNoaWxkcmVuKS5maWx0ZXIoZnVuY3Rpb24gKHNsaWRlKSB7XHJcbiAgICAgICAgICByZXR1cm4gIXNsaWRlLmNsYXNzTGlzdC5jb250YWlucyhHbGlkZS5zZXR0aW5ncy5jbGFzc2VzLmNsb25lU2xpZGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGRlZmluZShIdG1sLCAncm9vdCcsIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEdldHMgbm9kZSBvZiB0aGUgZ2xpZGUgbWFpbiBlbGVtZW50LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICAgICAqL1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICByZXR1cm4gSHRtbC5fcjtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogU2V0cyBub2RlIG9mIHRoZSBnbGlkZSBtYWluIGVsZW1lbnQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge09iamVjdH1cclxuICAgICAgICovXHJcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHIpIHtcclxuICAgICAgICBpZiAoaXNTdHJpbmcocikpIHtcclxuICAgICAgICAgIHIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGV4aXN0KHIpKSB7XHJcbiAgICAgICAgICBIdG1sLl9yID0gcjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgd2FybignUm9vdCBlbGVtZW50IG11c3QgYmUgYSBleGlzdGluZyBIdG1sIG5vZGUnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGRlZmluZShIdG1sLCAndHJhY2snLCB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBHZXRzIG5vZGUgb2YgdGhlIGdsaWRlIHRyYWNrIHdpdGggc2xpZGVzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICAgICAqL1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICByZXR1cm4gSHRtbC5fdDtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogU2V0cyBub2RlIG9mIHRoZSBnbGlkZSB0cmFjayB3aXRoIHNsaWRlcy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAgICAgKi9cclxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodCkge1xyXG4gICAgICAgIGlmIChleGlzdCh0KSkge1xyXG4gICAgICAgICAgSHRtbC5fdCA9IHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHdhcm4oJ0NvdWxkIG5vdCBmaW5kIHRyYWNrIGVsZW1lbnQuIFBsZWFzZSB1c2UgJyArIFRSQUNLX1NFTEVDVE9SICsgJyBhdHRyaWJ1dGUuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZWZpbmUoSHRtbCwgJ3dyYXBwZXInLCB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBHZXRzIG5vZGUgb2YgdGhlIHNsaWRlcyB3cmFwcGVyLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICAgICAqL1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICByZXR1cm4gSHRtbC50cmFjay5jaGlsZHJlblswXTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIEh0bWw7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBQZWVrIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XHJcbiAgICB2YXIgUGVlayA9IHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIFNldHVwcyBob3cgbXVjaCB0byBwZWVrIGJhc2VkIG9uIHNldHRpbmdzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgbW91bnQ6IGZ1bmN0aW9uIG1vdW50KCkge1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSBHbGlkZS5zZXR0aW5ncy5wZWVrO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGRlZmluZShQZWVrLCAndmFsdWUnLCB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBHZXRzIHZhbHVlIG9mIHRoZSBwZWVrLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJucyB7TnVtYmVyfE9iamVjdH1cclxuICAgICAgICovXHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgIHJldHVybiBQZWVrLl92O1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBTZXRzIHZhbHVlIG9mIHRoZSBwZWVrLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge051bWJlcnxPYmplY3R9IHZhbHVlXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xyXG4gICAgICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcclxuICAgICAgICAgIHZhbHVlLmJlZm9yZSA9IHRvSW50KHZhbHVlLmJlZm9yZSk7XHJcbiAgICAgICAgICB2YWx1ZS5hZnRlciA9IHRvSW50KHZhbHVlLmFmdGVyKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFsdWUgPSB0b0ludCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBQZWVrLl92ID0gdmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGRlZmluZShQZWVrLCAncmVkdWN0b3InLCB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBHZXRzIHJlZHVjdGlvbiB2YWx1ZSBjYXVzZWQgYnkgcGVlay5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybnMge051bWJlcn1cclxuICAgICAgICovXHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IFBlZWsudmFsdWU7XHJcbiAgICAgICAgdmFyIHBlclZpZXcgPSBHbGlkZS5zZXR0aW5ncy5wZXJWaWV3O1xyXG5cclxuICAgICAgICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XHJcbiAgICAgICAgICByZXR1cm4gdmFsdWUuYmVmb3JlIC8gcGVyVmlldyArIHZhbHVlLmFmdGVyIC8gcGVyVmlldztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB2YWx1ZSAqIDIgLyBwZXJWaWV3O1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlY2FsY3VsYXRlIHBlZWtpbmcgc2l6ZXMgb246XHJcbiAgICAgKiAtIHdoZW4gcmVzaXppbmcgd2luZG93IHRvIHVwZGF0ZSB0byBwcm9wZXIgcGVyY2VudHNcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKFsncmVzaXplJywgJ3VwZGF0ZSddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIFBlZWsubW91bnQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBQZWVrO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gTW92ZSAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xyXG4gICAgdmFyIE1vdmUgPSB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBDb25zdHJ1Y3RzIG1vdmUgY29tcG9uZW50LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJucyB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIG1vdW50OiBmdW5jdGlvbiBtb3VudCgpIHtcclxuICAgICAgICB0aGlzLl9vID0gMDtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQ2FsY3VsYXRlcyBhIG1vdmVtZW50IHZhbHVlIGJhc2VkIG9uIHBhc3NlZCBvZmZzZXQgYW5kIGN1cnJlbnRseSBhY3RpdmUgaW5kZXguXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSAge051bWJlcn0gb2Zmc2V0XHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBtYWtlOiBmdW5jdGlvbiBtYWtlKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgICAgIHZhciBvZmZzZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XHJcblxyXG4gICAgICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xyXG5cclxuICAgICAgICBFdmVudHMuZW1pdCgnbW92ZScsIHtcclxuICAgICAgICAgIG1vdmVtZW50OiB0aGlzLnZhbHVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIENvbXBvbmVudHMuVHJhbnNpdGlvbi5hZnRlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBFdmVudHMuZW1pdCgnbW92ZS5hZnRlcicsIHtcclxuICAgICAgICAgICAgbW92ZW1lbnQ6IF90aGlzLnZhbHVlXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBkZWZpbmUoTW92ZSwgJ29mZnNldCcsIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEdldHMgYW4gb2Zmc2V0IHZhbHVlIHVzZWQgdG8gbW9kaWZ5IGN1cnJlbnQgdHJhbnNsYXRlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICAgICAqL1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICByZXR1cm4gTW92ZS5fbztcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogU2V0cyBhbiBvZmZzZXQgdmFsdWUgdXNlZCB0byBtb2RpZnkgY3VycmVudCB0cmFuc2xhdGUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge09iamVjdH1cclxuICAgICAgICovXHJcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XHJcbiAgICAgICAgTW92ZS5fbyA9ICFpc1VuZGVmaW5lZCh2YWx1ZSkgPyB0b0ludCh2YWx1ZSkgOiAwO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZWZpbmUoTW92ZSwgJ3RyYW5zbGF0ZScsIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEdldHMgYSByYXcgbW92ZW1lbnQgdmFsdWUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgICAgICovXHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgIHJldHVybiBDb21wb25lbnRzLlNpemVzLnNsaWRlV2lkdGggKiBHbGlkZS5zbW07XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGRlZmluZShNb3ZlLCAndmFsdWUnLCB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBHZXRzIGFuIGFjdHVhbCBtb3ZlbWVudCB2YWx1ZSBjb3JyZWN0ZWQgYnkgb2Zmc2V0LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICAgICAqL1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5vZmZzZXQ7XHJcbiAgICAgICAgdmFyIHRyYW5zbGF0ZSA9IHRoaXMudHJhbnNsYXRlO1xyXG5cclxuICAgICAgICBpZiAoQ29tcG9uZW50cy5EaXJlY3Rpb24uaXMoJ3J0bCcpKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJhbnNsYXRlICsgb2Zmc2V0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZSAtIG9mZnNldDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYWtlIG1vdmVtZW50IHRvIHByb3BlciBzbGlkZSBvbjpcclxuICAgICAqIC0gYmVmb3JlIGJ1aWxkLCBzbyBnbGlkZSB3aWxsIHN0YXJ0IGF0IGBzdGFydEF0YCBpbmRleFxyXG4gICAgICogLSBvbiBlYWNoIHN0YW5kYXJkIHJ1biB0byBtb3ZlIHRvIG5ld2x5IGNhbGN1bGF0ZWQgaW5kZXhcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKFsnYnVpbGQuYmVmb3JlJywgJ3J1biddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIE1vdmUubWFrZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIE1vdmU7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBTaXplcyAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xyXG4gICAgdmFyIFNpemVzID0ge1xyXG4gICAgICAvKipcclxuICAgICAgICogU2V0dXBzIGRpbWVudGlvbnMgb2Ygc2xpZGVzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgc2V0dXBTbGlkZXM6IGZ1bmN0aW9uIHNldHVwU2xpZGVzKCkge1xyXG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuc2xpZGVXaWR0aCArICdweCc7XHJcbiAgICAgICAgdmFyIHNsaWRlcyA9IENvbXBvbmVudHMuSHRtbC5zbGlkZXM7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBzbGlkZXNbaV0uc3R5bGUud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFNldHVwcyBkaW1lbnRpb25zIG9mIHNsaWRlcyB3cmFwcGVyLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgc2V0dXBXcmFwcGVyOiBmdW5jdGlvbiBzZXR1cFdyYXBwZXIoZGltZW50aW9uKSB7XHJcbiAgICAgICAgQ29tcG9uZW50cy5IdG1sLndyYXBwZXIuc3R5bGUud2lkdGggPSB0aGlzLndyYXBwZXJTaXplICsgJ3B4JztcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogUmVtb3ZlcyBhcHBsaWVkIHN0eWxlcyBmcm9tIEhUTUwgZWxlbWVudHMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm5zIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XHJcbiAgICAgICAgdmFyIHNsaWRlcyA9IENvbXBvbmVudHMuSHRtbC5zbGlkZXM7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBzbGlkZXNbaV0uc3R5bGUud2lkdGggPSAnJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLnN0eWxlLndpZHRoID0gJyc7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZGVmaW5lKFNpemVzLCAnbGVuZ3RoJywge1xyXG4gICAgICAvKipcclxuICAgICAgICogR2V0cyBjb3VudCBudW1iZXIgb2YgdGhlIHNsaWRlcy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAgICAgKi9cclxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIENvbXBvbmVudHMuSHRtbC5zbGlkZXMubGVuZ3RoO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZWZpbmUoU2l6ZXMsICd3aWR0aCcsIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEdldHMgd2lkdGggdmFsdWUgb2YgdGhlIGdsaWRlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICAgICAqL1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICByZXR1cm4gQ29tcG9uZW50cy5IdG1sLnJvb3Qub2Zmc2V0V2lkdGg7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGRlZmluZShTaXplcywgJ3dyYXBwZXJTaXplJywge1xyXG4gICAgICAvKipcclxuICAgICAgICogR2V0cyBzaXplIG9mIHRoZSBzbGlkZXMgd3JhcHBlci5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAgICAgKi9cclxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIFNpemVzLnNsaWRlV2lkdGggKiBTaXplcy5sZW5ndGggKyBDb21wb25lbnRzLkdhcHMuZ3JvdyArIENvbXBvbmVudHMuQ2xvbmVzLmdyb3c7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGRlZmluZShTaXplcywgJ3NsaWRlV2lkdGgnLCB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBHZXRzIHdpZHRoIHZhbHVlIG9mIHRoZSBzaW5nbGUgc2xpZGUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgICAgICovXHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgIHJldHVybiBTaXplcy53aWR0aCAvIEdsaWRlLnNldHRpbmdzLnBlclZpZXcgLSBDb21wb25lbnRzLlBlZWsucmVkdWN0b3IgLSBDb21wb25lbnRzLkdhcHMucmVkdWN0b3I7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXBwbHkgY2FsY3VsYXRlZCBnbGlkZSdzIGRpbWVuc2lvbnM6XHJcbiAgICAgKiAtIGJlZm9yZSBidWlsZGluZywgc28gb3RoZXIgZGltZW50aW9ucyAoZS5nLiB0cmFuc2xhdGUpIHdpbGwgYmUgY2FsY3VsYXRlZCBwcm9wZXJ0bHlcclxuICAgICAqIC0gd2hlbiByZXNpemluZyB3aW5kb3cgdG8gcmVjYWxjdWxhdGUgc2lsZGVzIGRpbWVuc2lvbnNcclxuICAgICAqIC0gb24gdXBkYXRpbmcgdmlhIEFQSSwgdG8gY2FsY3VsYXRlIGRpbWVuc2lvbnMgYmFzZWQgb24gbmV3IG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKFsnYnVpbGQuYmVmb3JlJywgJ3Jlc2l6ZScsICd1cGRhdGUnXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICBTaXplcy5zZXR1cFNsaWRlcygpO1xyXG4gICAgICBTaXplcy5zZXR1cFdyYXBwZXIoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGNhbGN1bGF0ZWQgZ2xpZGUncyBkaW1lbnNpb25zOlxyXG4gICAgICogLSBvbiBkZXN0b3RpbmcgdG8gYnJpbmcgbWFya3VwIHRvIGl0cyBpbml0YWwgc3RhdGVcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBTaXplcy5yZW1vdmUoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBTaXplcztcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIEJ1aWxkIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XHJcbiAgICB2YXIgQnVpbGQgPSB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBJbml0IGdsaWRlIGJ1aWxkaW5nLiBBZGRzIGNsYXNzZXMsIHNldHNcclxuICAgICAgICogZGltZW5zaW9ucyBhbmQgc2V0dXBzIGluaXRpYWwgc3RhdGUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBtb3VudDogZnVuY3Rpb24gbW91bnQoKSB7XHJcbiAgICAgICAgRXZlbnRzLmVtaXQoJ2J1aWxkLmJlZm9yZScpO1xyXG5cclxuICAgICAgICB0aGlzLnR5cGVDbGFzcygpO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlQ2xhc3MoKTtcclxuXHJcbiAgICAgICAgRXZlbnRzLmVtaXQoJ2J1aWxkLmFmdGVyJyk7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEFkZHMgYHR5cGVgIGNsYXNzIHRvIHRoZSBnbGlkZSBlbGVtZW50LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgdHlwZUNsYXNzOiBmdW5jdGlvbiB0eXBlQ2xhc3MoKSB7XHJcbiAgICAgICAgQ29tcG9uZW50cy5IdG1sLnJvb3QuY2xhc3NMaXN0LmFkZChHbGlkZS5zZXR0aW5ncy5jbGFzc2VzW0dsaWRlLnNldHRpbmdzLnR5cGVdKTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogU2V0cyBhY3RpdmUgY2xhc3MgdG8gY3VycmVudCBzbGlkZS5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIGFjdGl2ZUNsYXNzOiBmdW5jdGlvbiBhY3RpdmVDbGFzcygpIHtcclxuICAgICAgICB2YXIgY2xhc3NlcyA9IEdsaWRlLnNldHRpbmdzLmNsYXNzZXM7XHJcbiAgICAgICAgdmFyIHNsaWRlID0gQ29tcG9uZW50cy5IdG1sLnNsaWRlc1tHbGlkZS5zbW1dO1xyXG5cclxuICAgICAgICBpZiAoc2xpZGUpIHtcclxuICAgICAgICAgIHNsaWRlLmNsYXNzTGlzdC5hZGQoY2xhc3Nlcy5hY3RpdmVTbGlkZSk7XHJcblxyXG4gICAgICAgICAgc2libGluZ3Moc2xpZGUpLmZvckVhY2goZnVuY3Rpb24gKHNpYmxpbmcpIHtcclxuICAgICAgICAgICAgc2libGluZy5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMuYWN0aXZlU2xpZGUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBSZW1vdmVzIEhUTUwgY2xhc3NlcyBhcHBsaWVkIGF0IGJ1aWxkaW5nLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgcmVtb3ZlQ2xhc3NlczogZnVuY3Rpb24gcmVtb3ZlQ2xhc3NlcygpIHtcclxuICAgICAgICB2YXIgY2xhc3NlcyA9IEdsaWRlLnNldHRpbmdzLmNsYXNzZXM7XHJcblxyXG4gICAgICAgIENvbXBvbmVudHMuSHRtbC5yb290LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3Nlc1tHbGlkZS5zZXR0aW5ncy50eXBlXSk7XHJcblxyXG4gICAgICAgIENvbXBvbmVudHMuSHRtbC5zbGlkZXMuZm9yRWFjaChmdW5jdGlvbiAoc2libGluZykge1xyXG4gICAgICAgICAgc2libGluZy5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMuYWN0aXZlU2xpZGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXIgYnVpbGRpbmcgY2xhc3NlczpcclxuICAgICAqIC0gb24gZGVzdHJveWluZyB0byBicmluZyBIVE1MIHRvIGl0cyBpbml0aWFsIHN0YXRlXHJcbiAgICAgKiAtIG9uIHVwZGF0aW5nIHRvIHJlbW92ZSBjbGFzc2VzIGJlZm9yZSByZW1vdW50aW5nIGNvbXBvbmVudFxyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oWydkZXN0cm95JywgJ3VwZGF0ZSddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIEJ1aWxkLnJlbW92ZUNsYXNzZXMoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3VudCBjb21wb25lbnQ6XHJcbiAgICAgKiAtIG9uIHJlc2l6aW5nIG9mIHRoZSB3aW5kb3cgdG8gY2FsY3VsYXRlIG5ldyBkaW1lbnRpb25zXHJcbiAgICAgKiAtIG9uIHVwZGF0aW5nIHNldHRpbmdzIHZpYSBBUElcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKFsncmVzaXplJywgJ3VwZGF0ZSddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIEJ1aWxkLm1vdW50KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN3YXAgYWN0aXZlIGNsYXNzIG9mIGN1cnJlbnQgc2xpZGU6XHJcbiAgICAgKiAtIGFmdGVyIGVhY2ggbW92ZSB0byB0aGUgbmV3IGluZGV4XHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbignbW92ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgQnVpbGQuYWN0aXZlQ2xhc3MoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBCdWlsZDtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIENsb25lcyAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xyXG4gICAgdmFyIENsb25lcyA9IHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIENyZWF0ZSBwYXR0ZXJuIG1hcCBhbmQgY29sbGVjdCBzbGlkZXMgdG8gYmUgY2xvbmVkLlxyXG4gICAgICAgKi9cclxuICAgICAgbW91bnQ6IGZ1bmN0aW9uIG1vdW50KCkge1xyXG4gICAgICAgIHRoaXMuaXRlbXMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKEdsaWRlLmlzVHlwZSgnY2Fyb3VzZWwnKSkge1xyXG4gICAgICAgICAgdGhpcy5pdGVtcyA9IHRoaXMuY29sbGVjdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQ29sbGVjdCBjbG9uZXMgd2l0aCBwYXR0ZXJuLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgY29sbGVjdDogZnVuY3Rpb24gY29sbGVjdCgpIHtcclxuICAgICAgICB2YXIgaXRlbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdO1xyXG4gICAgICAgIHZhciBzbGlkZXMgPSBDb21wb25lbnRzLkh0bWwuc2xpZGVzO1xyXG4gICAgICAgIHZhciBfR2xpZGUkc2V0dGluZ3MgPSBHbGlkZS5zZXR0aW5ncyxcclxuICAgICAgICAgICAgcGVyVmlldyA9IF9HbGlkZSRzZXR0aW5ncy5wZXJWaWV3LFxyXG4gICAgICAgICAgICBjbGFzc2VzID0gX0dsaWRlJHNldHRpbmdzLmNsYXNzZXM7XHJcblxyXG5cclxuICAgICAgICB2YXIgcGVla0luY3JlbWVudGVyID0gKyEhR2xpZGUuc2V0dGluZ3MucGVlaztcclxuICAgICAgICB2YXIgcGFydCA9IHBlclZpZXcgKyBwZWVrSW5jcmVtZW50ZXI7XHJcbiAgICAgICAgdmFyIHN0YXJ0ID0gc2xpZGVzLnNsaWNlKDAsIHBhcnQpO1xyXG4gICAgICAgIHZhciBlbmQgPSBzbGlkZXMuc2xpY2UoLXBhcnQpO1xyXG5cclxuICAgICAgICBmb3IgKHZhciByID0gMDsgciA8IE1hdGgubWF4KDEsIE1hdGguZmxvb3IocGVyVmlldyAvIHNsaWRlcy5sZW5ndGgpKTsgcisrKSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXJ0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjbG9uZSA9IHN0YXJ0W2ldLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICAgICAgICAgIGNsb25lLmNsYXNzTGlzdC5hZGQoY2xhc3Nlcy5jbG9uZVNsaWRlKTtcclxuXHJcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goY2xvbmUpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBlbmQubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBfY2xvbmUgPSBlbmRbX2ldLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICAgICAgICAgIF9jbG9uZS5jbGFzc0xpc3QuYWRkKGNsYXNzZXMuY2xvbmVTbGlkZSk7XHJcblxyXG4gICAgICAgICAgICBpdGVtcy51bnNoaWZ0KF9jbG9uZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaXRlbXM7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEFwcGVuZCBjbG9uZWQgc2xpZGVzIHdpdGggZ2VuZXJhdGVkIHBhdHRlcm4uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBhcHBlbmQ6IGZ1bmN0aW9uIGFwcGVuZCgpIHtcclxuICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLml0ZW1zO1xyXG4gICAgICAgIHZhciBfQ29tcG9uZW50cyRIdG1sID0gQ29tcG9uZW50cy5IdG1sLFxyXG4gICAgICAgICAgICB3cmFwcGVyID0gX0NvbXBvbmVudHMkSHRtbC53cmFwcGVyLFxyXG4gICAgICAgICAgICBzbGlkZXMgPSBfQ29tcG9uZW50cyRIdG1sLnNsaWRlcztcclxuXHJcblxyXG4gICAgICAgIHZhciBoYWxmID0gTWF0aC5mbG9vcihpdGVtcy5sZW5ndGggLyAyKTtcclxuICAgICAgICB2YXIgcHJlcGVuZCA9IGl0ZW1zLnNsaWNlKDAsIGhhbGYpLnJldmVyc2UoKTtcclxuICAgICAgICB2YXIgYXBwZW5kID0gaXRlbXMuc2xpY2UoaGFsZiwgaXRlbXMubGVuZ3RoKTtcclxuICAgICAgICB2YXIgd2lkdGggPSBDb21wb25lbnRzLlNpemVzLnNsaWRlV2lkdGggKyAncHgnO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFwcGVuZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChhcHBlbmRbaV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgcHJlcGVuZC5sZW5ndGg7IF9pMisrKSB7XHJcbiAgICAgICAgICB3cmFwcGVyLmluc2VydEJlZm9yZShwcmVwZW5kW19pMl0sIHNsaWRlc1swXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCBpdGVtcy5sZW5ndGg7IF9pMysrKSB7XHJcbiAgICAgICAgICBpdGVtc1tfaTNdLnN0eWxlLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBSZW1vdmUgYWxsIGNsb25lZCBzbGlkZXMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcclxuICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLml0ZW1zO1xyXG5cclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgQ29tcG9uZW50cy5IdG1sLndyYXBwZXIucmVtb3ZlQ2hpbGQoaXRlbXNbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBkZWZpbmUoQ2xvbmVzLCAnZ3JvdycsIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEdldHMgYWRkaXRpb25hbCBkaW1lbnRpb25zIHZhbHVlIGNhdXNlZCBieSBjbG9uZXMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgICAgICovXHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgIHJldHVybiAoQ29tcG9uZW50cy5TaXplcy5zbGlkZVdpZHRoICsgQ29tcG9uZW50cy5HYXBzLnZhbHVlKSAqIENsb25lcy5pdGVtcy5sZW5ndGg7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXBwZW5kIGFkZGl0aW9uYWwgc2xpZGUncyBjbG9uZXM6XHJcbiAgICAgKiAtIHdoaWxlIGdsaWRlJ3MgdHlwZSBpcyBgY2Fyb3VzZWxgXHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbigndXBkYXRlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBDbG9uZXMucmVtb3ZlKCk7XHJcbiAgICAgIENsb25lcy5tb3VudCgpO1xyXG4gICAgICBDbG9uZXMuYXBwZW5kKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFwcGVuZCBhZGRpdGlvbmFsIHNsaWRlJ3MgY2xvbmVzOlxyXG4gICAgICogLSB3aGlsZSBnbGlkZSdzIHR5cGUgaXMgYGNhcm91c2VsYFxyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oJ2J1aWxkLmJlZm9yZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKEdsaWRlLmlzVHlwZSgnY2Fyb3VzZWwnKSkge1xyXG4gICAgICAgIENsb25lcy5hcHBlbmQoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgY2xvbmVzIEhUTUxFbGVtZW50czpcclxuICAgICAqIC0gb24gZGVzdHJveWluZywgdG8gYnJpbmcgSFRNTCB0byBpdHMgaW5pdGlhbCBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIENsb25lcy5yZW1vdmUoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBDbG9uZXM7XHJcbiAgfVxyXG5cclxuICB2YXIgRXZlbnRzQmluZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3QgYSBFdmVudHNCaW5kZXIgaW5zdGFuY2UuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIEV2ZW50c0JpbmRlcigpIHtcclxuICAgICAgdmFyIGxpc3RlbmVycyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XHJcbiAgICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIEV2ZW50c0JpbmRlcik7XHJcblxyXG4gICAgICB0aGlzLmxpc3RlbmVycyA9IGxpc3RlbmVycztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgZXZlbnRzIGxpc3RlbmVycyB0byBhcnJvd3MgSFRNTCBlbGVtZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd8QXJyYXl9IGV2ZW50c1xyXG4gICAgICogQHBhcmFtICB7RWxlbWVudHxXaW5kb3d8RG9jdW1lbnR9IGVsXHJcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2xvc3VyZVxyXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbnxPYmplY3R9IGNhcHR1cmVcclxuICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgKi9cclxuXHJcblxyXG4gICAgY3JlYXRlQ2xhc3MoRXZlbnRzQmluZGVyLCBbe1xyXG4gICAgICBrZXk6ICdvbicsXHJcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbihldmVudHMsIGVsLCBjbG9zdXJlKSB7XHJcbiAgICAgICAgdmFyIGNhcHR1cmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAoaXNTdHJpbmcoZXZlbnRzKSkge1xyXG4gICAgICAgICAgZXZlbnRzID0gW2V2ZW50c107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgdGhpcy5saXN0ZW5lcnNbZXZlbnRzW2ldXSA9IGNsb3N1cmU7XHJcblxyXG4gICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudHNbaV0sIHRoaXMubGlzdGVuZXJzW2V2ZW50c1tpXV0sIGNhcHR1cmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFJlbW92ZXMgZXZlbnQgbGlzdGVuZXJzIGZyb20gYXJyb3dzIEhUTUwgZWxlbWVudHMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSAge1N0cmluZ3xBcnJheX0gZXZlbnRzXHJcbiAgICAgICAqIEBwYXJhbSAge0VsZW1lbnR8V2luZG93fERvY3VtZW50fSBlbFxyXG4gICAgICAgKiBAcGFyYW0gIHtCb29sZWFufE9iamVjdH0gY2FwdHVyZVxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuXHJcbiAgICB9LCB7XHJcbiAgICAgIGtleTogJ29mZicsXHJcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvZmYoZXZlbnRzLCBlbCkge1xyXG4gICAgICAgIHZhciBjYXB0dXJlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKGlzU3RyaW5nKGV2ZW50cykpIHtcclxuICAgICAgICAgIGV2ZW50cyA9IFtldmVudHNdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRzW2ldLCB0aGlzLmxpc3RlbmVyc1tldmVudHNbaV1dLCBjYXB0dXJlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBEZXN0cm95IGNvbGxlY3RlZCBsaXN0ZW5lcnMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm5zIHtWb2lkfVxyXG4gICAgICAgKi9cclxuXHJcbiAgICB9LCB7XHJcbiAgICAgIGtleTogJ2Rlc3Ryb3knLFxyXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcclxuICAgICAgICBkZWxldGUgdGhpcy5saXN0ZW5lcnM7XHJcbiAgICAgIH1cclxuICAgIH1dKTtcclxuICAgIHJldHVybiBFdmVudHNCaW5kZXI7XHJcbiAgfSgpO1xyXG5cclxuICBmdW5jdGlvbiBSZXNpemUgKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcclxuICAgIC8qKlxyXG4gICAgICogSW5zdGFuY2Ugb2YgdGhlIGJpbmRlciBmb3IgRE9NIEV2ZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAdHlwZSB7RXZlbnRzQmluZGVyfVxyXG4gICAgICovXHJcbiAgICB2YXIgQmluZGVyID0gbmV3IEV2ZW50c0JpbmRlcigpO1xyXG5cclxuICAgIHZhciBSZXNpemUgPSB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBJbml0aWFsaXplcyB3aW5kb3cgYmluZGluZ3MuXHJcbiAgICAgICAqL1xyXG4gICAgICBtb3VudDogZnVuY3Rpb24gbW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5iaW5kKCk7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEJpbmRzIGByZXpzaXplYCBsaXN0ZW5lciB0byB0aGUgd2luZG93LlxyXG4gICAgICAgKiBJdCdzIGEgY29zdGx5IGV2ZW50LCBzbyB3ZSBhcmUgZGVib3VuY2luZyBpdC5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIGJpbmQ6IGZ1bmN0aW9uIGJpbmQoKSB7XHJcbiAgICAgICAgQmluZGVyLm9uKCdyZXNpemUnLCB3aW5kb3csIHRocm90dGxlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIEV2ZW50cy5lbWl0KCdyZXNpemUnKTtcclxuICAgICAgICB9LCBHbGlkZS5zZXR0aW5ncy50aHJvdHRsZSkpO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBVbmJpbmRzIGxpc3RlbmVycyBmcm9tIHRoZSB3aW5kb3cuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICB1bmJpbmQ6IGZ1bmN0aW9uIHVuYmluZCgpIHtcclxuICAgICAgICBCaW5kZXIub2ZmKCdyZXNpemUnLCB3aW5kb3cpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGJpbmRpbmdzIGZyb20gd2luZG93OlxyXG4gICAgICogLSBvbiBkZXN0cm95aW5nLCB0byByZW1vdmUgYWRkZWQgRXZlbnRMaXN0ZW5lclxyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIFJlc2l6ZS51bmJpbmQoKTtcclxuICAgICAgQmluZGVyLmRlc3Ryb3koKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBSZXNpemU7XHJcbiAgfVxyXG5cclxuICB2YXIgVkFMSURfRElSRUNUSU9OUyA9IFsnbHRyJywgJ3J0bCddO1xyXG4gIHZhciBGTElQRURfTU9WRU1FTlRTID0ge1xyXG4gICAgJz4nOiAnPCcsXHJcbiAgICAnPCc6ICc+JyxcclxuICAgICc9JzogJz0nXHJcbiAgfTtcclxuXHJcbiAgZnVuY3Rpb24gRGlyZWN0aW9uIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XHJcbiAgICB2YXIgRGlyZWN0aW9uID0ge1xyXG4gICAgICAvKipcclxuICAgICAgICogU2V0dXBzIGdhcCB2YWx1ZSBiYXNlZCBvbiBzZXR0aW5ncy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIG1vdW50OiBmdW5jdGlvbiBtb3VudCgpIHtcclxuICAgICAgICB0aGlzLnZhbHVlID0gR2xpZGUuc2V0dGluZ3MuZGlyZWN0aW9uO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBSZXNvbHZlcyBwYXR0ZXJuIGJhc2VkIG9uIGRpcmVjdGlvbiB2YWx1ZVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0dGVyblxyXG4gICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAgICAgKi9cclxuICAgICAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZShwYXR0ZXJuKSB7XHJcbiAgICAgICAgdmFyIHRva2VuID0gcGF0dGVybi5zbGljZSgwLCAxKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXMoJ3J0bCcpKSB7XHJcbiAgICAgICAgICByZXR1cm4gcGF0dGVybi5zcGxpdCh0b2tlbikuam9pbihGTElQRURfTU9WRU1FTlRTW3Rva2VuXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcGF0dGVybjtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQ2hlY2tzIHZhbHVlIG9mIGRpcmVjdGlvbiBtb2RlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGlyZWN0aW9uXHJcbiAgICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAgICAgKi9cclxuICAgICAgaXM6IGZ1bmN0aW9uIGlzKGRpcmVjdGlvbikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlID09PSBkaXJlY3Rpb247XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEFwcGxpZXMgZGlyZWN0aW9uIGNsYXNzIHRvIHRoZSByb290IEhUTUwgZWxlbWVudC5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIGFkZENsYXNzOiBmdW5jdGlvbiBhZGRDbGFzcygpIHtcclxuICAgICAgICBDb21wb25lbnRzLkh0bWwucm9vdC5jbGFzc0xpc3QuYWRkKEdsaWRlLnNldHRpbmdzLmNsYXNzZXMuZGlyZWN0aW9uW3RoaXMudmFsdWVdKTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogUmVtb3ZlcyBkaXJlY3Rpb24gY2xhc3MgZnJvbSB0aGUgcm9vdCBIVE1MIGVsZW1lbnQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoKSB7XHJcbiAgICAgICAgQ29tcG9uZW50cy5IdG1sLnJvb3QuY2xhc3NMaXN0LnJlbW92ZShHbGlkZS5zZXR0aW5ncy5jbGFzc2VzLmRpcmVjdGlvblt0aGlzLnZhbHVlXSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZGVmaW5lKERpcmVjdGlvbiwgJ3ZhbHVlJywge1xyXG4gICAgICAvKipcclxuICAgICAgICogR2V0cyB2YWx1ZSBvZiB0aGUgZGlyZWN0aW9uLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxyXG4gICAgICAgKi9cclxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIERpcmVjdGlvbi5fdjtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogU2V0cyB2YWx1ZSBvZiB0aGUgZGlyZWN0aW9uLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKFZBTElEX0RJUkVDVElPTlMuaW5kZXhPZih2YWx1ZSkgPiAtMSkge1xyXG4gICAgICAgICAgRGlyZWN0aW9uLl92ID0gdmFsdWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHdhcm4oJ0RpcmVjdGlvbiB2YWx1ZSBtdXN0IGJlIGBsdHJgIG9yIGBydGxgJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENsZWFyIGRpcmVjdGlvbiBjbGFzczpcclxuICAgICAqIC0gb24gZGVzdHJveSB0byBicmluZyBIVE1MIHRvIGl0cyBpbml0aWFsIHN0YXRlXHJcbiAgICAgKiAtIG9uIHVwZGF0ZSB0byByZW1vdmUgY2xhc3MgYmVmb3JlIHJlYXBwbGluZyBiZWxsb3dcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKFsnZGVzdHJveScsICd1cGRhdGUnXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICBEaXJlY3Rpb24ucmVtb3ZlQ2xhc3MoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3VudCBjb21wb25lbnQ6XHJcbiAgICAgKiAtIG9uIHVwZGF0ZSB0byByZWZsZWN0IGNoYW5nZXMgaW4gZGlyZWN0aW9uIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbigndXBkYXRlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBEaXJlY3Rpb24ubW91bnQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXBwbHkgZGlyZWN0aW9uIGNsYXNzOlxyXG4gICAgICogLSBiZWZvcmUgYnVpbGRpbmcgdG8gYXBwbHkgY2xhc3MgZm9yIHRoZSBmaXJzdCB0aW1lXHJcbiAgICAgKiAtIG9uIHVwZGF0aW5nIHRvIHJlYXBwbHkgZGlyZWN0aW9uIGNsYXNzIHRoYXQgbWF5IGNoYW5nZWRcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKFsnYnVpbGQuYmVmb3JlJywgJ3VwZGF0ZSddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIERpcmVjdGlvbi5hZGRDbGFzcygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIERpcmVjdGlvbjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlZmxlY3RzIHZhbHVlIG9mIGdsaWRlIG1vdmVtZW50LlxyXG4gICAqXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBHbGlkZVxyXG4gICAqIEBwYXJhbSAge09iamVjdH0gQ29tcG9uZW50c1xyXG4gICAqIEByZXR1cm4ge09iamVjdH1cclxuICAgKi9cclxuICBmdW5jdGlvbiBSdGwgKEdsaWRlLCBDb21wb25lbnRzKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAvKipcclxuICAgICAgICogTmVnYXRlcyB0aGUgcGFzc2VkIHRyYW5zbGF0ZSBpZiBnbGlkZSBpcyBpbiBSVEwgb3B0aW9uLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHRyYW5zbGF0ZVxyXG4gICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICAgICAqL1xyXG4gICAgICBtb2RpZnk6IGZ1bmN0aW9uIG1vZGlmeSh0cmFuc2xhdGUpIHtcclxuICAgICAgICBpZiAoQ29tcG9uZW50cy5EaXJlY3Rpb24uaXMoJ3J0bCcpKSB7XHJcbiAgICAgICAgICByZXR1cm4gLXRyYW5zbGF0ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0cmFuc2xhdGU7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGVzIGdsaWRlIG1vdmVtZW50IHdpdGggYSBgZ2FwYCBzZXR0aW5ncy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSAge09iamVjdH0gR2xpZGVcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IENvbXBvbmVudHNcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gR2FwIChHbGlkZSwgQ29tcG9uZW50cykge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIE1vZGlmaWVzIHBhc3NlZCB0cmFuc2xhdGUgdmFsdWUgd2l0aCBudW1iZXIgaW4gdGhlIGBnYXBgIHNldHRpbmdzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHRyYW5zbGF0ZVxyXG4gICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICAgICAqL1xyXG4gICAgICBtb2RpZnk6IGZ1bmN0aW9uIG1vZGlmeSh0cmFuc2xhdGUpIHtcclxuICAgICAgICByZXR1cm4gdHJhbnNsYXRlICsgQ29tcG9uZW50cy5HYXBzLnZhbHVlICogR2xpZGUuc21tO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyBnbGlkZSBtb3ZlbWVudCB3aXRoIHdpZHRoIG9mIGFkZGl0aW9uYWwgY2xvbmVzIHdpZHRoLlxyXG4gICAqXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBHbGlkZVxyXG4gICAqIEBwYXJhbSAge09iamVjdH0gQ29tcG9uZW50c1xyXG4gICAqIEByZXR1cm4ge09iamVjdH1cclxuICAgKi9cclxuICBmdW5jdGlvbiBHcm93IChHbGlkZSwgQ29tcG9uZW50cykge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEFkZHMgdG8gdGhlIHBhc3NlZCB0cmFuc2xhdGUgd2lkdGggb2YgdGhlIGhhbGYgb2YgY2xvbmVzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHRyYW5zbGF0ZVxyXG4gICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICAgICAqL1xyXG4gICAgICBtb2RpZnk6IGZ1bmN0aW9uIG1vZGlmeSh0cmFuc2xhdGUpIHtcclxuICAgICAgICByZXR1cm4gdHJhbnNsYXRlICsgQ29tcG9uZW50cy5DbG9uZXMuZ3JvdyAvIDI7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGVzIGdsaWRlIG1vdmVtZW50IHdpdGggYSBgcGVla2Agc2V0dGluZ3MuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IEdsaWRlXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBDb21wb25lbnRzXHJcbiAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIFBlZWtpbmcgKEdsaWRlLCBDb21wb25lbnRzKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAvKipcclxuICAgICAgICogTW9kaWZpZXMgcGFzc2VkIHRyYW5zbGF0ZSB2YWx1ZSB3aXRoIGEgYHBlZWtgIHNldHRpbmcuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSAge051bWJlcn0gdHJhbnNsYXRlXHJcbiAgICAgICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgICAgICovXHJcbiAgICAgIG1vZGlmeTogZnVuY3Rpb24gbW9kaWZ5KHRyYW5zbGF0ZSkge1xyXG4gICAgICAgIGlmIChHbGlkZS5zZXR0aW5ncy5mb2N1c0F0ID49IDApIHtcclxuICAgICAgICAgIHZhciBwZWVrID0gQ29tcG9uZW50cy5QZWVrLnZhbHVlO1xyXG5cclxuICAgICAgICAgIGlmIChpc09iamVjdChwZWVrKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJhbnNsYXRlIC0gcGVlay5iZWZvcmU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZSAtIHBlZWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJhbnNsYXRlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyBnbGlkZSBtb3ZlbWVudCB3aXRoIGEgYGZvY3VzQXRgIHNldHRpbmdzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBHbGlkZVxyXG4gICAqIEBwYXJhbSAge09iamVjdH0gQ29tcG9uZW50c1xyXG4gICAqIEByZXR1cm4ge09iamVjdH1cclxuICAgKi9cclxuICBmdW5jdGlvbiBGb2N1c2luZyAoR2xpZGUsIENvbXBvbmVudHMpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBNb2RpZmllcyBwYXNzZWQgdHJhbnNsYXRlIHZhbHVlIHdpdGggaW5kZXggaW4gdGhlIGBmb2N1c0F0YCBzZXR0aW5nLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHRyYW5zbGF0ZVxyXG4gICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICAgICAqL1xyXG4gICAgICBtb2RpZnk6IGZ1bmN0aW9uIG1vZGlmeSh0cmFuc2xhdGUpIHtcclxuICAgICAgICB2YXIgZ2FwID0gQ29tcG9uZW50cy5HYXBzLnZhbHVlO1xyXG4gICAgICAgIHZhciB3aWR0aCA9IENvbXBvbmVudHMuU2l6ZXMud2lkdGg7XHJcbiAgICAgICAgdmFyIGZvY3VzQXQgPSBHbGlkZS5zZXR0aW5ncy5mb2N1c0F0O1xyXG4gICAgICAgIHZhciBzbGlkZVdpZHRoID0gQ29tcG9uZW50cy5TaXplcy5zbGlkZVdpZHRoO1xyXG5cclxuICAgICAgICBpZiAoZm9jdXNBdCA9PT0gJ2NlbnRlcicpIHtcclxuICAgICAgICAgIHJldHVybiB0cmFuc2xhdGUgLSAod2lkdGggLyAyIC0gc2xpZGVXaWR0aCAvIDIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZSAtIHNsaWRlV2lkdGggKiBmb2N1c0F0IC0gZ2FwICogZm9jdXNBdDtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFwcGxpZXMgZGlmZnJlbnQgdHJhbnNmb3JtZXJzIG9uIHRyYW5zbGF0ZSB2YWx1ZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSAge09iamVjdH0gR2xpZGVcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IENvbXBvbmVudHNcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gbXV0YXRvciAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xyXG4gICAgLyoqXHJcbiAgICAgKiBNZXJnZSBpbnN0YW5jZSB0cmFuc2Zvcm1lcnMgd2l0aCBjb2xsZWN0aW9uIG9mIGRlZmF1bHQgdHJhbnNmb3JtZXJzLlxyXG4gICAgICogSXQncyBpbXBvcnRhbnQgdGhhdCB0aGUgUnRsIGNvbXBvbmVudCBiZSBsYXN0IG9uIHRoZSBsaXN0LFxyXG4gICAgICogc28gaXQgcmVmbGVjdHMgYWxsIHByZXZpb3VzIHRyYW5zZm9ybWF0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBAdHlwZSB7QXJyYXl9XHJcbiAgICAgKi9cclxuICAgIHZhciBUUkFOU0ZPUk1FUlMgPSBbR2FwLCBHcm93LCBQZWVraW5nLCBGb2N1c2luZ10uY29uY2F0KEdsaWRlLl90LCBbUnRsXSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIFBpcGxpbmVzIHRyYW5zbGF0ZSB2YWx1ZSB3aXRoIHJlZ2lzdGVyZWQgdHJhbnNmb3JtZXJzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHRyYW5zbGF0ZVxyXG4gICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICAgICAqL1xyXG4gICAgICBtdXRhdGU6IGZ1bmN0aW9uIG11dGF0ZSh0cmFuc2xhdGUpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IFRSQU5TRk9STUVSUy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgdmFyIHRyYW5zZm9ybWVyID0gVFJBTlNGT1JNRVJTW2ldO1xyXG5cclxuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHRyYW5zZm9ybWVyKSAmJiBpc0Z1bmN0aW9uKHRyYW5zZm9ybWVyKCkubW9kaWZ5KSkge1xyXG4gICAgICAgICAgICB0cmFuc2xhdGUgPSB0cmFuc2Zvcm1lcihHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKS5tb2RpZnkodHJhbnNsYXRlKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdhcm4oJ1RyYW5zZm9ybWVyIHNob3VsZCBiZSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBvYmplY3Qgd2l0aCBgbW9kaWZ5KClgIG1ldGhvZCcpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIFRyYW5zbGF0ZSAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xyXG4gICAgdmFyIFRyYW5zbGF0ZSA9IHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIFNldHMgdmFsdWUgb2YgdHJhbnNsYXRlIG9uIEhUTUwgZWxlbWVudC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xyXG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSBtdXRhdG9yKEdsaWRlLCBDb21wb25lbnRzKS5tdXRhdGUodmFsdWUpO1xyXG5cclxuICAgICAgICBDb21wb25lbnRzLkh0bWwud3JhcHBlci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlM2QoJyArIC0xICogdHJhbnNmb3JtICsgJ3B4LCAwcHgsIDBweCknO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBSZW1vdmVzIHZhbHVlIG9mIHRyYW5zbGF0ZSBmcm9tIEhUTUwgZWxlbWVudC5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xyXG4gICAgICAgIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IG5ldyB0cmFuc2xhdGUgdmFsdWU6XHJcbiAgICAgKiAtIG9uIG1vdmUgdG8gcmVmbGVjdCBpbmRleCBjaGFuZ2VcclxuICAgICAqIC0gb24gdXBkYXRpbmcgdmlhIEFQSSB0byByZWZsZWN0IHBvc3NpYmxlIGNoYW5nZXMgaW4gb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oJ21vdmUnLCBmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICB2YXIgZ2FwID0gQ29tcG9uZW50cy5HYXBzLnZhbHVlO1xyXG4gICAgICB2YXIgbGVuZ3RoID0gQ29tcG9uZW50cy5TaXplcy5sZW5ndGg7XHJcbiAgICAgIHZhciB3aWR0aCA9IENvbXBvbmVudHMuU2l6ZXMuc2xpZGVXaWR0aDtcclxuXHJcbiAgICAgIGlmIChHbGlkZS5pc1R5cGUoJ2Nhcm91c2VsJykgJiYgQ29tcG9uZW50cy5SdW4uaXNPZmZzZXQoJzwnKSkge1xyXG4gICAgICAgIENvbXBvbmVudHMuVHJhbnNpdGlvbi5hZnRlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBFdmVudHMuZW1pdCgndHJhbnNsYXRlLmp1bXAnKTtcclxuXHJcbiAgICAgICAgICBUcmFuc2xhdGUuc2V0KHdpZHRoICogKGxlbmd0aCAtIDEpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFRyYW5zbGF0ZS5zZXQoLXdpZHRoIC0gZ2FwICogbGVuZ3RoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKEdsaWRlLmlzVHlwZSgnY2Fyb3VzZWwnKSAmJiBDb21wb25lbnRzLlJ1bi5pc09mZnNldCgnPicpKSB7XHJcbiAgICAgICAgQ29tcG9uZW50cy5UcmFuc2l0aW9uLmFmdGVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIEV2ZW50cy5lbWl0KCd0cmFuc2xhdGUuanVtcCcpO1xyXG5cclxuICAgICAgICAgIFRyYW5zbGF0ZS5zZXQoMCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBUcmFuc2xhdGUuc2V0KHdpZHRoICogbGVuZ3RoICsgZ2FwICogbGVuZ3RoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIFRyYW5zbGF0ZS5zZXQoY29udGV4dC5tb3ZlbWVudCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSB0cmFuc2xhdGU6XHJcbiAgICAgKiAtIG9uIGRlc3Ryb3lpbmcgdG8gYnJpbmcgbWFya3VwIHRvIGl0cyBpbml0YWwgc3RhdGVcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBUcmFuc2xhdGUucmVtb3ZlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gVHJhbnNsYXRlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gVHJhbnNpdGlvbiAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xyXG4gICAgLyoqXHJcbiAgICAgKiBIb2xkcyBpbmFjdGl2aXR5IHN0YXR1cyBvZiB0cmFuc2l0aW9uLlxyXG4gICAgICogV2hlbiB0cnVlIHRyYW5zaXRpb24gaXMgbm90IGFwcGxpZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHZhciBkaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuICAgIHZhciBUcmFuc2l0aW9uID0ge1xyXG4gICAgICAvKipcclxuICAgICAgICogQ29tcG9zZXMgc3RyaW5nIG9mIHRoZSBDU1MgdHJhbnNpdGlvbi5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XHJcbiAgICAgICAqIEByZXR1cm4ge1N0cmluZ31cclxuICAgICAgICovXHJcbiAgICAgIGNvbXBvc2U6IGZ1bmN0aW9uIGNvbXBvc2UocHJvcGVydHkpIHtcclxuICAgICAgICB2YXIgc2V0dGluZ3MgPSBHbGlkZS5zZXR0aW5ncztcclxuXHJcbiAgICAgICAgaWYgKCFkaXNhYmxlZCkge1xyXG4gICAgICAgICAgcmV0dXJuIHByb3BlcnR5ICsgJyAnICsgdGhpcy5kdXJhdGlvbiArICdtcyAnICsgc2V0dGluZ3MuYW5pbWF0aW9uVGltaW5nRnVuYztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBwcm9wZXJ0eSArICcgMG1zICcgKyBzZXR0aW5ncy5hbmltYXRpb25UaW1pbmdGdW5jO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBTZXRzIHZhbHVlIG9mIHRyYW5zaXRpb24gb24gSFRNTCBlbGVtZW50LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZz19IHByb3BlcnR5XHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHtcclxuICAgICAgICB2YXIgcHJvcGVydHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICd0cmFuc2Zvcm0nO1xyXG5cclxuICAgICAgICBDb21wb25lbnRzLkh0bWwud3JhcHBlci5zdHlsZS50cmFuc2l0aW9uID0gdGhpcy5jb21wb3NlKHByb3BlcnR5KTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogUmVtb3ZlcyB2YWx1ZSBvZiB0cmFuc2l0aW9uIGZyb20gSFRNTCBlbGVtZW50LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XHJcbiAgICAgICAgQ29tcG9uZW50cy5IdG1sLndyYXBwZXIuc3R5bGUudHJhbnNpdGlvbiA9ICcnO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBSdW5zIGNhbGxiYWNrIGFmdGVyIGFuaW1hdGlvbi5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBhZnRlcjogZnVuY3Rpb24gYWZ0ZXIoY2FsbGJhY2spIHtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgfSwgdGhpcy5kdXJhdGlvbik7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEVuYWJsZSB0cmFuc2l0aW9uLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgZW5hYmxlOiBmdW5jdGlvbiBlbmFibGUoKSB7XHJcbiAgICAgICAgZGlzYWJsZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXQoKTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogRGlzYWJsZSB0cmFuc2l0aW9uLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgZGlzYWJsZTogZnVuY3Rpb24gZGlzYWJsZSgpIHtcclxuICAgICAgICBkaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0KCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZGVmaW5lKFRyYW5zaXRpb24sICdkdXJhdGlvbicsIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEdldHMgZHVyYXRpb24gb2YgdGhlIHRyYW5zaXRpb24gYmFzZWRcclxuICAgICAgICogb24gY3VycmVudGx5IHJ1bm5pbmcgYW5pbWF0aW9uIHR5cGUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgICAgICovXHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgIHZhciBzZXR0aW5ncyA9IEdsaWRlLnNldHRpbmdzO1xyXG5cclxuICAgICAgICBpZiAoR2xpZGUuaXNUeXBlKCdzbGlkZXInKSAmJiBDb21wb25lbnRzLlJ1bi5vZmZzZXQpIHtcclxuICAgICAgICAgIHJldHVybiBzZXR0aW5ncy5yZXdpbmREdXJhdGlvbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzZXR0aW5ncy5hbmltYXRpb25EdXJhdGlvbjtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdHJhbnNpdGlvbiBgc3R5bGVgIHZhbHVlOlxyXG4gICAgICogLSBvbiBlYWNoIG1vdmluZywgYmVjYXVzZSBpdCBtYXkgYmUgY2xlYXJlZCBieSBvZmZzZXQgbW92ZVxyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oJ21vdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIFRyYW5zaXRpb24uc2V0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERpc2FibGUgdHJhbnNpdGlvbjpcclxuICAgICAqIC0gYmVmb3JlIGluaXRpYWwgYnVpbGQgdG8gYXZvaWQgdHJhbnNpdGlvbmluZyBmcm9tIGAwYCB0byBgc3RhcnRBdGAgaW5kZXhcclxuICAgICAqIC0gd2hpbGUgcmVzaXppbmcgd2luZG93IGFuZCByZWNhbGN1bGF0aW5nIGRpbWVudGlvbnNcclxuICAgICAqIC0gb24ganVtcGluZyBmcm9tIG9mZnNldCB0cmFuc2l0aW9uIGF0IHN0YXJ0IGFuZCBlbmQgZWRnZXMgaW4gYGNhcm91c2VsYCB0eXBlXHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbihbJ2J1aWxkLmJlZm9yZScsICdyZXNpemUnLCAndHJhbnNsYXRlLmp1bXAnXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICBUcmFuc2l0aW9uLmRpc2FibGUoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRW5hYmxlIHRyYW5zaXRpb246XHJcbiAgICAgKiAtIG9uIGVhY2ggcnVubmluZywgYmVjYXVzZSBpdCBtYXkgYmUgZGlzYWJsZWQgYnkgb2Zmc2V0IG1vdmVcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKCdydW4nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIFRyYW5zaXRpb24uZW5hYmxlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSB0cmFuc2l0aW9uOlxyXG4gICAgICogLSBvbiBkZXN0cm95aW5nIHRvIGJyaW5nIG1hcmt1cCB0byBpdHMgaW5pdGFsIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbignZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgVHJhbnNpdGlvbi5yZW1vdmUoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBUcmFuc2l0aW9uO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGVzdCB2aWEgYSBnZXR0ZXIgaW4gdGhlIG9wdGlvbnMgb2JqZWN0IHRvIHNlZVxyXG4gICAqIGlmIHRoZSBwYXNzaXZlIHByb3BlcnR5IGlzIGFjY2Vzc2VkLlxyXG4gICAqXHJcbiAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vV0lDRy9FdmVudExpc3RlbmVyT3B0aW9ucy9ibG9iL2doLXBhZ2VzL2V4cGxhaW5lci5tZCNmZWF0dXJlLWRldGVjdGlvblxyXG4gICAqL1xyXG5cclxuICB2YXIgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XHJcblxyXG4gIHRyeSB7XHJcbiAgICB2YXIgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgIHN1cHBvcnRzUGFzc2l2ZSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0UGFzc2l2ZScsIG51bGwsIG9wdHMpO1xyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Rlc3RQYXNzaXZlJywgbnVsbCwgb3B0cyk7XHJcbiAgfSBjYXRjaCAoZSkge31cclxuXHJcbiAgdmFyIHN1cHBvcnRzUGFzc2l2ZSQxID0gc3VwcG9ydHNQYXNzaXZlO1xyXG5cclxuICB2YXIgU1RBUlRfRVZFTlRTID0gWyd0b3VjaHN0YXJ0JywgJ21vdXNlZG93biddO1xyXG4gIHZhciBNT1ZFX0VWRU5UUyA9IFsndG91Y2htb3ZlJywgJ21vdXNlbW92ZSddO1xyXG4gIHZhciBFTkRfRVZFTlRTID0gWyd0b3VjaGVuZCcsICd0b3VjaGNhbmNlbCcsICdtb3VzZXVwJywgJ21vdXNlbGVhdmUnXTtcclxuICB2YXIgTU9VU0VfRVZFTlRTID0gWydtb3VzZWRvd24nLCAnbW91c2Vtb3ZlJywgJ21vdXNldXAnLCAnbW91c2VsZWF2ZSddO1xyXG5cclxuICBmdW5jdGlvbiBTd2lwZSAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbnN0YW5jZSBvZiB0aGUgYmluZGVyIGZvciBET00gRXZlbnRzLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtFdmVudHNCaW5kZXJ9XHJcbiAgICAgKi9cclxuICAgIHZhciBCaW5kZXIgPSBuZXcgRXZlbnRzQmluZGVyKCk7XHJcblxyXG4gICAgdmFyIHN3aXBlU2luID0gMDtcclxuICAgIHZhciBzd2lwZVN0YXJ0WCA9IDA7XHJcbiAgICB2YXIgc3dpcGVTdGFydFkgPSAwO1xyXG4gICAgdmFyIGRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB2YXIgY2FwdHVyZSA9IHN1cHBvcnRzUGFzc2l2ZSQxID8geyBwYXNzaXZlOiB0cnVlIH0gOiBmYWxzZTtcclxuXHJcbiAgICB2YXIgU3dpcGUgPSB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBJbml0aWFsaXplcyBzd2lwZSBiaW5kaW5ncy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIG1vdW50OiBmdW5jdGlvbiBtb3VudCgpIHtcclxuICAgICAgICB0aGlzLmJpbmRTd2lwZVN0YXJ0KCk7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEhhbmRsZXIgZm9yIGBzd2lwZXN0YXJ0YCBldmVudC4gQ2FsY3VsYXRlcyBlbnRyeSBwb2ludHMgb2YgdGhlIHVzZXIncyB0YXAuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0KGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKCFkaXNhYmxlZCAmJiAhR2xpZGUuZGlzYWJsZWQpIHtcclxuICAgICAgICAgIHRoaXMuZGlzYWJsZSgpO1xyXG5cclxuICAgICAgICAgIHZhciBzd2lwZSA9IHRoaXMudG91Y2hlcyhldmVudCk7XHJcblxyXG4gICAgICAgICAgc3dpcGVTaW4gPSBudWxsO1xyXG4gICAgICAgICAgc3dpcGVTdGFydFggPSB0b0ludChzd2lwZS5wYWdlWCk7XHJcbiAgICAgICAgICBzd2lwZVN0YXJ0WSA9IHRvSW50KHN3aXBlLnBhZ2VZKTtcclxuXHJcbiAgICAgICAgICB0aGlzLmJpbmRTd2lwZU1vdmUoKTtcclxuICAgICAgICAgIHRoaXMuYmluZFN3aXBlRW5kKCk7XHJcblxyXG4gICAgICAgICAgRXZlbnRzLmVtaXQoJ3N3aXBlLnN0YXJ0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBIYW5kbGVyIGZvciBgc3dpcGVtb3ZlYCBldmVudC4gQ2FsY3VsYXRlcyB1c2VyJ3MgdGFwIGFuZ2xlIGFuZCBkaXN0YW5jZS5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XHJcbiAgICAgICAqL1xyXG4gICAgICBtb3ZlOiBmdW5jdGlvbiBtb3ZlKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKCFHbGlkZS5kaXNhYmxlZCkge1xyXG4gICAgICAgICAgdmFyIF9HbGlkZSRzZXR0aW5ncyA9IEdsaWRlLnNldHRpbmdzLFxyXG4gICAgICAgICAgICAgIHRvdWNoQW5nbGUgPSBfR2xpZGUkc2V0dGluZ3MudG91Y2hBbmdsZSxcclxuICAgICAgICAgICAgICB0b3VjaFJhdGlvID0gX0dsaWRlJHNldHRpbmdzLnRvdWNoUmF0aW8sXHJcbiAgICAgICAgICAgICAgY2xhc3NlcyA9IF9HbGlkZSRzZXR0aW5ncy5jbGFzc2VzO1xyXG5cclxuXHJcbiAgICAgICAgICB2YXIgc3dpcGUgPSB0aGlzLnRvdWNoZXMoZXZlbnQpO1xyXG5cclxuICAgICAgICAgIHZhciBzdWJFeFN4ID0gdG9JbnQoc3dpcGUucGFnZVgpIC0gc3dpcGVTdGFydFg7XHJcbiAgICAgICAgICB2YXIgc3ViRXlTeSA9IHRvSW50KHN3aXBlLnBhZ2VZKSAtIHN3aXBlU3RhcnRZO1xyXG4gICAgICAgICAgdmFyIHBvd0VYID0gTWF0aC5hYnMoc3ViRXhTeCA8PCAyKTtcclxuICAgICAgICAgIHZhciBwb3dFWSA9IE1hdGguYWJzKHN1YkV5U3kgPDwgMik7XHJcbiAgICAgICAgICB2YXIgc3dpcGVIeXBvdGVudXNlID0gTWF0aC5zcXJ0KHBvd0VYICsgcG93RVkpO1xyXG4gICAgICAgICAgdmFyIHN3aXBlQ2F0aGV0dXMgPSBNYXRoLnNxcnQocG93RVkpO1xyXG5cclxuICAgICAgICAgIHN3aXBlU2luID0gTWF0aC5hc2luKHN3aXBlQ2F0aGV0dXMgLyBzd2lwZUh5cG90ZW51c2UpO1xyXG5cclxuICAgICAgICAgIGlmIChzd2lwZVNpbiAqIDE4MCAvIE1hdGguUEkgPCB0b3VjaEFuZ2xlKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgQ29tcG9uZW50cy5Nb3ZlLm1ha2Uoc3ViRXhTeCAqIHRvRmxvYXQodG91Y2hSYXRpbykpO1xyXG5cclxuICAgICAgICAgICAgQ29tcG9uZW50cy5IdG1sLnJvb3QuY2xhc3NMaXN0LmFkZChjbGFzc2VzLmRyYWdnaW5nKTtcclxuXHJcbiAgICAgICAgICAgIEV2ZW50cy5lbWl0KCdzd2lwZS5tb3ZlJyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBIYW5kbGVyIGZvciBgc3dpcGVlbmRgIGV2ZW50LiBGaW5pdGlhbGl6ZXMgdXNlcidzIHRhcCBhbmQgZGVjaWRlcyBhYm91dCBnbGlkZSBtb3ZlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIGVuZDogZnVuY3Rpb24gZW5kKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKCFHbGlkZS5kaXNhYmxlZCkge1xyXG4gICAgICAgICAgdmFyIHNldHRpbmdzID0gR2xpZGUuc2V0dGluZ3M7XHJcblxyXG4gICAgICAgICAgdmFyIHN3aXBlID0gdGhpcy50b3VjaGVzKGV2ZW50KTtcclxuICAgICAgICAgIHZhciB0aHJlc2hvbGQgPSB0aGlzLnRocmVzaG9sZChldmVudCk7XHJcblxyXG4gICAgICAgICAgdmFyIHN3aXBlRGlzdGFuY2UgPSBzd2lwZS5wYWdlWCAtIHN3aXBlU3RhcnRYO1xyXG4gICAgICAgICAgdmFyIHN3aXBlRGVnID0gc3dpcGVTaW4gKiAxODAgLyBNYXRoLlBJO1xyXG4gICAgICAgICAgdmFyIHN0ZXBzID0gTWF0aC5yb3VuZChzd2lwZURpc3RhbmNlIC8gQ29tcG9uZW50cy5TaXplcy5zbGlkZVdpZHRoKTtcclxuXHJcbiAgICAgICAgICB0aGlzLmVuYWJsZSgpO1xyXG5cclxuICAgICAgICAgIGlmIChzd2lwZURpc3RhbmNlID4gdGhyZXNob2xkICYmIHN3aXBlRGVnIDwgc2V0dGluZ3MudG91Y2hBbmdsZSkge1xyXG4gICAgICAgICAgICAvLyBXaGlsZSBzd2lwZSBpcyBwb3NpdGl2ZSBhbmQgZ3JlYXRlciB0aGFuIHRocmVzaG9sZCBtb3ZlIGJhY2t3YXJkLlxyXG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MucGVyVG91Y2gpIHtcclxuICAgICAgICAgICAgICBzdGVwcyA9IE1hdGgubWluKHN0ZXBzLCB0b0ludChzZXR0aW5ncy5wZXJUb3VjaCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoQ29tcG9uZW50cy5EaXJlY3Rpb24uaXMoJ3J0bCcpKSB7XHJcbiAgICAgICAgICAgICAgc3RlcHMgPSAtc3RlcHM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIENvbXBvbmVudHMuUnVuLm1ha2UoQ29tcG9uZW50cy5EaXJlY3Rpb24ucmVzb2x2ZSgnPCcgKyBzdGVwcykpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChzd2lwZURpc3RhbmNlIDwgLXRocmVzaG9sZCAmJiBzd2lwZURlZyA8IHNldHRpbmdzLnRvdWNoQW5nbGUpIHtcclxuICAgICAgICAgICAgLy8gV2hpbGUgc3dpcGUgaXMgbmVnYXRpdmUgYW5kIGxvd2VyIHRoYW4gbmVnYXRpdmUgdGhyZXNob2xkIG1vdmUgZm9yd2FyZC5cclxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLnBlclRvdWNoKSB7XHJcbiAgICAgICAgICAgICAgc3RlcHMgPSBNYXRoLm1heChzdGVwcywgLXRvSW50KHNldHRpbmdzLnBlclRvdWNoKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChDb21wb25lbnRzLkRpcmVjdGlvbi5pcygncnRsJykpIHtcclxuICAgICAgICAgICAgICBzdGVwcyA9IC1zdGVwcztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgQ29tcG9uZW50cy5SdW4ubWFrZShDb21wb25lbnRzLkRpcmVjdGlvbi5yZXNvbHZlKCc+JyArIHN0ZXBzKSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBXaGlsZSBzd2lwZSBkb24ndCByZWFjaCBkaXN0YW5jZSBhcHBseSBwcmV2aW91cyB0cmFuc2Zvcm0uXHJcbiAgICAgICAgICAgIENvbXBvbmVudHMuTW92ZS5tYWtlKCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgQ29tcG9uZW50cy5IdG1sLnJvb3QuY2xhc3NMaXN0LnJlbW92ZShzZXR0aW5ncy5jbGFzc2VzLmRyYWdnaW5nKTtcclxuXHJcbiAgICAgICAgICB0aGlzLnVuYmluZFN3aXBlTW92ZSgpO1xyXG4gICAgICAgICAgdGhpcy51bmJpbmRTd2lwZUVuZCgpO1xyXG5cclxuICAgICAgICAgIEV2ZW50cy5lbWl0KCdzd2lwZS5lbmQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEJpbmRzIHN3aXBlJ3Mgc3RhcnRpbmcgZXZlbnQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBiaW5kU3dpcGVTdGFydDogZnVuY3Rpb24gYmluZFN3aXBlU3RhcnQoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICAgICAgdmFyIHNldHRpbmdzID0gR2xpZGUuc2V0dGluZ3M7XHJcblxyXG4gICAgICAgIGlmIChzZXR0aW5ncy5zd2lwZVRocmVzaG9sZCkge1xyXG4gICAgICAgICAgQmluZGVyLm9uKFNUQVJUX0VWRU5UU1swXSwgQ29tcG9uZW50cy5IdG1sLndyYXBwZXIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zdGFydChldmVudCk7XHJcbiAgICAgICAgICB9LCBjYXB0dXJlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzZXR0aW5ncy5kcmFnVGhyZXNob2xkKSB7XHJcbiAgICAgICAgICBCaW5kZXIub24oU1RBUlRfRVZFTlRTWzFdLCBDb21wb25lbnRzLkh0bWwud3JhcHBlciwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIF90aGlzLnN0YXJ0KGV2ZW50KTtcclxuICAgICAgICAgIH0sIGNhcHR1cmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogVW5iaW5kcyBzd2lwZSdzIHN0YXJ0aW5nIGV2ZW50LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgdW5iaW5kU3dpcGVTdGFydDogZnVuY3Rpb24gdW5iaW5kU3dpcGVTdGFydCgpIHtcclxuICAgICAgICBCaW5kZXIub2ZmKFNUQVJUX0VWRU5UU1swXSwgQ29tcG9uZW50cy5IdG1sLndyYXBwZXIsIGNhcHR1cmUpO1xyXG4gICAgICAgIEJpbmRlci5vZmYoU1RBUlRfRVZFTlRTWzFdLCBDb21wb25lbnRzLkh0bWwud3JhcHBlciwgY2FwdHVyZSk7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEJpbmRzIHN3aXBlJ3MgbW92aW5nIGV2ZW50LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgYmluZFN3aXBlTW92ZTogZnVuY3Rpb24gYmluZFN3aXBlTW92ZSgpIHtcclxuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcclxuXHJcbiAgICAgICAgQmluZGVyLm9uKE1PVkVfRVZFTlRTLCBDb21wb25lbnRzLkh0bWwud3JhcHBlciwgdGhyb3R0bGUoZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICBfdGhpczIubW92ZShldmVudCk7XHJcbiAgICAgICAgfSwgR2xpZGUuc2V0dGluZ3MudGhyb3R0bGUpLCBjYXB0dXJlKTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogVW5iaW5kcyBzd2lwZSdzIG1vdmluZyBldmVudC5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIHVuYmluZFN3aXBlTW92ZTogZnVuY3Rpb24gdW5iaW5kU3dpcGVNb3ZlKCkge1xyXG4gICAgICAgIEJpbmRlci5vZmYoTU9WRV9FVkVOVFMsIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLCBjYXB0dXJlKTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQmluZHMgc3dpcGUncyBlbmRpbmcgZXZlbnQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBiaW5kU3dpcGVFbmQ6IGZ1bmN0aW9uIGJpbmRTd2lwZUVuZCgpIHtcclxuICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcclxuXHJcbiAgICAgICAgQmluZGVyLm9uKEVORF9FVkVOVFMsIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgIF90aGlzMy5lbmQoZXZlbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBVbmJpbmRzIHN3aXBlJ3MgZW5kaW5nIGV2ZW50LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgdW5iaW5kU3dpcGVFbmQ6IGZ1bmN0aW9uIHVuYmluZFN3aXBlRW5kKCkge1xyXG4gICAgICAgIEJpbmRlci5vZmYoRU5EX0VWRU5UUywgQ29tcG9uZW50cy5IdG1sLndyYXBwZXIpO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBOb3JtYWxpemVzIGV2ZW50IHRvdWNoZXMgcG9pbnRzIGFjY29ydGluZyB0byBkaWZmZXJlbnQgdHlwZXMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxyXG4gICAgICAgKi9cclxuICAgICAgdG91Y2hlczogZnVuY3Rpb24gdG91Y2hlcyhldmVudCkge1xyXG4gICAgICAgIGlmIChNT1VTRV9FVkVOVFMuaW5kZXhPZihldmVudC50eXBlKSA+IC0xKSB7XHJcbiAgICAgICAgICByZXR1cm4gZXZlbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZXZlbnQudG91Y2hlc1swXSB8fCBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogR2V0cyB2YWx1ZSBvZiBtaW5pbXVtIHN3aXBlIGRpc3RhbmNlIHNldHRpbmdzIGJhc2VkIG9uIGV2ZW50IHR5cGUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgICAgICovXHJcbiAgICAgIHRocmVzaG9sZDogZnVuY3Rpb24gdGhyZXNob2xkKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHNldHRpbmdzID0gR2xpZGUuc2V0dGluZ3M7XHJcblxyXG4gICAgICAgIGlmIChNT1VTRV9FVkVOVFMuaW5kZXhPZihldmVudC50eXBlKSA+IC0xKSB7XHJcbiAgICAgICAgICByZXR1cm4gc2V0dGluZ3MuZHJhZ1RocmVzaG9sZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzZXR0aW5ncy5zd2lwZVRocmVzaG9sZDtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogRW5hYmxlcyBzd2lwZSBldmVudC5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7c2VsZn1cclxuICAgICAgICovXHJcbiAgICAgIGVuYWJsZTogZnVuY3Rpb24gZW5hYmxlKCkge1xyXG4gICAgICAgIGRpc2FibGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIENvbXBvbmVudHMuVHJhbnNpdGlvbi5lbmFibGUoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIERpc2FibGVzIHN3aXBlIGV2ZW50LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtzZWxmfVxyXG4gICAgICAgKi9cclxuICAgICAgZGlzYWJsZTogZnVuY3Rpb24gZGlzYWJsZSgpIHtcclxuICAgICAgICBkaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIENvbXBvbmVudHMuVHJhbnNpdGlvbi5kaXNhYmxlKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGNvbXBvbmVudCBjbGFzczpcclxuICAgICAqIC0gYWZ0ZXIgaW5pdGlhbCBidWlsZGluZ1xyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oJ2J1aWxkLmFmdGVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBDb21wb25lbnRzLkh0bWwucm9vdC5jbGFzc0xpc3QuYWRkKEdsaWRlLnNldHRpbmdzLmNsYXNzZXMuc3dpcGVhYmxlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIHN3aXBpbmcgYmluZGluZ3M6XHJcbiAgICAgKiAtIG9uIGRlc3Ryb3lpbmcsIHRvIHJlbW92ZSBhZGRlZCBFdmVudExpc3RlbmVyc1xyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIFN3aXBlLnVuYmluZFN3aXBlU3RhcnQoKTtcclxuICAgICAgU3dpcGUudW5iaW5kU3dpcGVNb3ZlKCk7XHJcbiAgICAgIFN3aXBlLnVuYmluZFN3aXBlRW5kKCk7XHJcbiAgICAgIEJpbmRlci5kZXN0cm95KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gU3dpcGU7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBJbWFnZXMgKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcclxuICAgIC8qKlxyXG4gICAgICogSW5zdGFuY2Ugb2YgdGhlIGJpbmRlciBmb3IgRE9NIEV2ZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAdHlwZSB7RXZlbnRzQmluZGVyfVxyXG4gICAgICovXHJcbiAgICB2YXIgQmluZGVyID0gbmV3IEV2ZW50c0JpbmRlcigpO1xyXG5cclxuICAgIHZhciBJbWFnZXMgPSB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBCaW5kcyBsaXN0ZW5lciB0byBnbGlkZSB3cmFwcGVyLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgbW91bnQ6IGZ1bmN0aW9uIG1vdW50KCkge1xyXG4gICAgICAgIHRoaXMuYmluZCgpO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBCaW5kcyBgZHJhZ3N0YXJ0YCBldmVudCBvbiB3cmFwcGVyIHRvIHByZXZlbnQgZHJhZ2dpbmcgaW1hZ2VzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgYmluZDogZnVuY3Rpb24gYmluZCgpIHtcclxuICAgICAgICBCaW5kZXIub24oJ2RyYWdzdGFydCcsIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLCB0aGlzLmRyYWdzdGFydCk7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFVuYmluZHMgYGRyYWdzdGFydGAgZXZlbnQgb24gd3JhcHBlci5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIHVuYmluZDogZnVuY3Rpb24gdW5iaW5kKCkge1xyXG4gICAgICAgIEJpbmRlci5vZmYoJ2RyYWdzdGFydCcsIENvbXBvbmVudHMuSHRtbC53cmFwcGVyKTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogRXZlbnQgaGFuZGxlci4gUHJldmVudHMgZHJhZ2dpbmcuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBkcmFnc3RhcnQ6IGZ1bmN0aW9uIGRyYWdzdGFydChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgYmluZGluZ3MgZnJvbSBpbWFnZXM6XHJcbiAgICAgKiAtIG9uIGRlc3Ryb3lpbmcsIHRvIHJlbW92ZSBhZGRlZCBFdmVudExpc3RlbmVyc1xyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIEltYWdlcy51bmJpbmQoKTtcclxuICAgICAgQmluZGVyLmRlc3Ryb3koKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBJbWFnZXM7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBBbmNob3JzIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XHJcbiAgICAvKipcclxuICAgICAqIEluc3RhbmNlIG9mIHRoZSBiaW5kZXIgZm9yIERPTSBFdmVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge0V2ZW50c0JpbmRlcn1cclxuICAgICAqL1xyXG4gICAgdmFyIEJpbmRlciA9IG5ldyBFdmVudHNCaW5kZXIoKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEhvbGRzIGRldGFjaGluZyBzdGF0dXMgb2YgYW5jaG9ycy5cclxuICAgICAqIFByZXZlbnRzIGRldGFjaGluZyBvZiBhbHJlYWR5IGRldGFjaGVkIGFuY2hvcnMuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEB0eXBlIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICB2YXIgZGV0YWNoZWQgPSBmYWxzZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEhvbGRzIHByZXZlbnRpbmcgc3RhdHVzIG9mIGFuY2hvcnMuXHJcbiAgICAgKiBJZiBgdHJ1ZWAgcmVkaXJlY3Rpb24gYWZ0ZXIgY2xpY2sgd2lsbCBiZSBkaXNhYmxlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHR5cGUge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHZhciBwcmV2ZW50ZWQgPSBmYWxzZTtcclxuXHJcbiAgICB2YXIgQW5jaG9ycyA9IHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIFNldHVwcyBhIGluaXRpYWwgc3RhdGUgb2YgYW5jaG9ycyBjb21wb25lbnQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm5zIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgbW91bnQ6IGZ1bmN0aW9uIG1vdW50KCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhvbGRzIGNvbGxlY3Rpb24gb2YgYW5jaG9ycyBlbGVtZW50cy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICogQHR5cGUge0hUTUxDb2xsZWN0aW9ufVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2EgPSBDb21wb25lbnRzLkh0bWwud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKCdhJyk7XHJcblxyXG4gICAgICAgIHRoaXMuYmluZCgpO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBCaW5kcyBldmVudHMgdG8gYW5jaG9ycyBpbnNpZGUgYSB0cmFjay5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIGJpbmQ6IGZ1bmN0aW9uIGJpbmQoKSB7XHJcbiAgICAgICAgQmluZGVyLm9uKCdjbGljaycsIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLCB0aGlzLmNsaWNrKTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogVW5iaW5kcyBldmVudHMgYXR0YWNoZWQgdG8gYW5jaG9ycyBpbnNpZGUgYSB0cmFjay5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIHVuYmluZDogZnVuY3Rpb24gdW5iaW5kKCkge1xyXG4gICAgICAgIEJpbmRlci5vZmYoJ2NsaWNrJywgQ29tcG9uZW50cy5IdG1sLndyYXBwZXIpO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBIYW5kbGVyIGZvciBjbGljayBldmVudC4gUHJldmVudHMgY2xpY2tzIHdoZW4gZ2xpZGUgaXMgaW4gYHByZXZlbnRgIHN0YXR1cy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtICB7T2JqZWN0fSBldmVudFxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHByZXZlbnRlZCkge1xyXG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogRGV0YWNoZXMgYW5jaG9ycyBjbGljayBldmVudCBpbnNpZGUgZ2xpZGUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge3NlbGZ9XHJcbiAgICAgICAqL1xyXG4gICAgICBkZXRhY2g6IGZ1bmN0aW9uIGRldGFjaCgpIHtcclxuICAgICAgICBwcmV2ZW50ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICBpZiAoIWRldGFjaGVkKSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5kcmFnZ2FibGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0uc2V0QXR0cmlidXRlKCdkYXRhLWhyZWYnLCB0aGlzLml0ZW1zW2ldLmdldEF0dHJpYnV0ZSgnaHJlZicpKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0ucmVtb3ZlQXR0cmlidXRlKCdocmVmJyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZGV0YWNoZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEF0dGFjaGVzIGFuY2hvcnMgY2xpY2sgZXZlbnRzIGluc2lkZSBnbGlkZS5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7c2VsZn1cclxuICAgICAgICovXHJcbiAgICAgIGF0dGFjaDogZnVuY3Rpb24gYXR0YWNoKCkge1xyXG4gICAgICAgIHByZXZlbnRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAoZGV0YWNoZWQpIHtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLmRyYWdnYWJsZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLnNldEF0dHJpYnV0ZSgnaHJlZicsIHRoaXMuaXRlbXNbaV0uZ2V0QXR0cmlidXRlKCdkYXRhLWhyZWYnKSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZGV0YWNoZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGRlZmluZShBbmNob3JzLCAnaXRlbXMnLCB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBHZXRzIGNvbGxlY3Rpb24gb2YgdGhlIGFycm93cyBIVE1MIGVsZW1lbnRzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudFtdfVxyXG4gICAgICAgKi9cclxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIEFuY2hvcnMuX2E7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGV0YWNoIGFuY2hvcnMgaW5zaWRlIHNsaWRlczpcclxuICAgICAqIC0gb24gc3dpcGluZywgc28gdGhleSB3b24ndCByZWRpcmVjdCB0byBpdHMgYGhyZWZgIGF0dHJpYnV0ZXNcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKCdzd2lwZS5tb3ZlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBBbmNob3JzLmRldGFjaCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBdHRhY2ggYW5jaG9ycyBpbnNpZGUgc2xpZGVzOlxyXG4gICAgICogLSBhZnRlciBzd2lwaW5nIGFuZCB0cmFuc2l0aW9ucyBlbmRzLCBzbyB0aGV5IGNhbiByZWRpcmVjdCBhZnRlciBjbGljayBhZ2FpblxyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oJ3N3aXBlLmVuZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgQ29tcG9uZW50cy5UcmFuc2l0aW9uLmFmdGVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBBbmNob3JzLmF0dGFjaCgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVW5iaW5kIGFuY2hvcnMgaW5zaWRlIHNsaWRlczpcclxuICAgICAqIC0gb24gZGVzdHJveWluZywgdG8gYnJpbmcgYW5jaG9ycyB0byBpdHMgaW5pdGlhbCBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIEFuY2hvcnMuYXR0YWNoKCk7XHJcbiAgICAgIEFuY2hvcnMudW5iaW5kKCk7XHJcbiAgICAgIEJpbmRlci5kZXN0cm95KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gQW5jaG9ycztcclxuICB9XHJcblxyXG4gIHZhciBOQVZfU0VMRUNUT1IgPSAnW2RhdGEtZ2xpZGUtZWw9XCJjb250cm9sc1tuYXZdXCJdJztcclxuICB2YXIgQ09OVFJPTFNfU0VMRUNUT1IgPSAnW2RhdGEtZ2xpZGUtZWxePVwiY29udHJvbHNcIl0nO1xyXG5cclxuICBmdW5jdGlvbiBDb250cm9scyAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbnN0YW5jZSBvZiB0aGUgYmluZGVyIGZvciBET00gRXZlbnRzLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtFdmVudHNCaW5kZXJ9XHJcbiAgICAgKi9cclxuICAgIHZhciBCaW5kZXIgPSBuZXcgRXZlbnRzQmluZGVyKCk7XHJcblxyXG4gICAgdmFyIGNhcHR1cmUgPSBzdXBwb3J0c1Bhc3NpdmUkMSA/IHsgcGFzc2l2ZTogdHJ1ZSB9IDogZmFsc2U7XHJcblxyXG4gICAgdmFyIENvbnRyb2xzID0ge1xyXG4gICAgICAvKipcclxuICAgICAgICogSW5pdHMgYXJyb3dzLiBCaW5kcyBldmVudHMgbGlzdGVuZXJzXHJcbiAgICAgICAqIHRvIHRoZSBhcnJvd3MgSFRNTCBlbGVtZW50cy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIG1vdW50OiBmdW5jdGlvbiBtb3VudCgpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIG5hdmlnYXRpb24gSFRNTCBlbGVtZW50cy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICogQHR5cGUge0hUTUxDb2xsZWN0aW9ufVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX24gPSBDb21wb25lbnRzLkh0bWwucm9vdC5xdWVyeVNlbGVjdG9yQWxsKE5BVl9TRUxFQ1RPUik7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgY29udHJvbHMgSFRNTCBlbGVtZW50cy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICogQHR5cGUge0hUTUxDb2xsZWN0aW9ufVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2MgPSBDb21wb25lbnRzLkh0bWwucm9vdC5xdWVyeVNlbGVjdG9yQWxsKENPTlRST0xTX1NFTEVDVE9SKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRCaW5kaW5ncygpO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBTZXRzIGFjdGl2ZSBjbGFzcyB0byBjdXJyZW50IHNsaWRlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgc2V0QWN0aXZlOiBmdW5jdGlvbiBzZXRBY3RpdmUoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9uLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICB0aGlzLmFkZENsYXNzKHRoaXMuX25baV0uY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogUmVtb3ZlcyBhY3RpdmUgY2xhc3MgdG8gY3VycmVudCBzbGlkZS5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIHJlbW92ZUFjdGl2ZTogZnVuY3Rpb24gcmVtb3ZlQWN0aXZlKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgdGhpcy5yZW1vdmVDbGFzcyh0aGlzLl9uW2ldLmNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFRvZ2dsZXMgYWN0aXZlIGNsYXNzIG9uIGl0ZW1zIGluc2lkZSBuYXZpZ2F0aW9uLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gY29udHJvbHNcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIGFkZENsYXNzOiBmdW5jdGlvbiBhZGRDbGFzcyhjb250cm9scykge1xyXG4gICAgICAgIHZhciBzZXR0aW5ncyA9IEdsaWRlLnNldHRpbmdzO1xyXG4gICAgICAgIHZhciBpdGVtID0gY29udHJvbHNbR2xpZGUuc21tXTtcclxuXHJcbiAgICAgICAgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChzZXR0aW5ncy5jbGFzc2VzLmFjdGl2ZU5hdik7XHJcblxyXG4gICAgICAgICAgc2libGluZ3MoaXRlbSkuZm9yRWFjaChmdW5jdGlvbiAoc2libGluZykge1xyXG4gICAgICAgICAgICBzaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUoc2V0dGluZ3MuY2xhc3Nlcy5hY3RpdmVOYXYpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBSZW1vdmVzIGFjdGl2ZSBjbGFzcyBmcm9tIGFjdGl2ZSBjb250cm9sLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gY29udHJvbHNcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbiByZW1vdmVDbGFzcyhjb250cm9scykge1xyXG4gICAgICAgIHZhciBpdGVtID0gY29udHJvbHNbR2xpZGUuc21tXTtcclxuXHJcbiAgICAgICAgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShHbGlkZS5zZXR0aW5ncy5jbGFzc2VzLmFjdGl2ZU5hdik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBBZGRzIGhhbmRsZXMgdG8gdGhlIGVhY2ggZ3JvdXAgb2YgY29udHJvbHMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBhZGRCaW5kaW5nczogZnVuY3Rpb24gYWRkQmluZGluZ3MoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9jLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICB0aGlzLmJpbmQodGhpcy5fY1tpXS5jaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBSZW1vdmVzIGhhbmRsZXMgZnJvbSB0aGUgZWFjaCBncm91cCBvZiBjb250cm9scy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIHJlbW92ZUJpbmRpbmdzOiBmdW5jdGlvbiByZW1vdmVCaW5kaW5ncygpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIHRoaXMudW5iaW5kKHRoaXMuX2NbaV0uY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQmluZHMgZXZlbnRzIHRvIGFycm93cyBIVE1MIGVsZW1lbnRzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge0hUTUxDb2xsZWN0aW9ufSBlbGVtZW50c1xyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgYmluZDogZnVuY3Rpb24gYmluZChlbGVtZW50cykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIEJpbmRlci5vbignY2xpY2snLCBlbGVtZW50c1tpXSwgdGhpcy5jbGljayk7XHJcbiAgICAgICAgICBCaW5kZXIub24oJ3RvdWNoc3RhcnQnLCBlbGVtZW50c1tpXSwgdGhpcy5jbGljaywgY2FwdHVyZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBVbmJpbmRzIGV2ZW50cyBiaW5kZWQgdG8gdGhlIGFycm93cyBIVE1MIGVsZW1lbnRzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge0hUTUxDb2xsZWN0aW9ufSBlbGVtZW50c1xyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgdW5iaW5kOiBmdW5jdGlvbiB1bmJpbmQoZWxlbWVudHMpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBCaW5kZXIub2ZmKFsnY2xpY2snLCAndG91Y2hzdGFydCddLCBlbGVtZW50c1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBIYW5kbGVzIGBjbGlja2AgZXZlbnQgb24gdGhlIGFycm93cyBIVE1MIGVsZW1lbnRzLlxyXG4gICAgICAgKiBNb3ZlcyBzbGlkZXIgaW4gZHJpZWN0aW9uIHByZWNpc2VkIGluXHJcbiAgICAgICAqIGBkYXRhLWdsaWRlLWRpcmAgYXR0cmlidXRlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIENvbXBvbmVudHMuUnVuLm1ha2UoQ29tcG9uZW50cy5EaXJlY3Rpb24ucmVzb2x2ZShldmVudC5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1nbGlkZS1kaXInKSkpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGRlZmluZShDb250cm9scywgJ2l0ZW1zJywge1xyXG4gICAgICAvKipcclxuICAgICAgICogR2V0cyBjb2xsZWN0aW9uIG9mIHRoZSBjb250cm9scyBIVE1MIGVsZW1lbnRzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudFtdfVxyXG4gICAgICAgKi9cclxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIENvbnRyb2xzLl9jO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN3YXAgYWN0aXZlIGNsYXNzIG9mIGN1cnJlbnQgbmF2aWdhdGlvbiBpdGVtOlxyXG4gICAgICogLSBhZnRlciBtb3VudGluZyB0byBzZXQgaXQgdG8gaW5pdGlhbCBpbmRleFxyXG4gICAgICogLSBhZnRlciBlYWNoIG1vdmUgdG8gdGhlIG5ldyBpbmRleFxyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oWydtb3VudC5hZnRlcicsICdtb3ZlLmFmdGVyJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgQ29udHJvbHMuc2V0QWN0aXZlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBiaW5kaW5ncyBhbmQgSFRNTCBDbGFzc2VzOlxyXG4gICAgICogLSBvbiBkZXN0cm95aW5nLCB0byBicmluZyBtYXJrdXAgdG8gaXRzIGluaXRpYWwgc3RhdGVcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBDb250cm9scy5yZW1vdmVCaW5kaW5ncygpO1xyXG4gICAgICBDb250cm9scy5yZW1vdmVBY3RpdmUoKTtcclxuICAgICAgQmluZGVyLmRlc3Ryb3koKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBDb250cm9scztcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIEtleWJvYXJkIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XHJcbiAgICAvKipcclxuICAgICAqIEluc3RhbmNlIG9mIHRoZSBiaW5kZXIgZm9yIERPTSBFdmVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge0V2ZW50c0JpbmRlcn1cclxuICAgICAqL1xyXG4gICAgdmFyIEJpbmRlciA9IG5ldyBFdmVudHNCaW5kZXIoKTtcclxuXHJcbiAgICB2YXIgS2V5Ym9hcmQgPSB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBCaW5kcyBrZXlib2FyZCBldmVudHMgb24gY29tcG9uZW50IG1vdW50LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgbW91bnQ6IGZ1bmN0aW9uIG1vdW50KCkge1xyXG4gICAgICAgIGlmIChHbGlkZS5zZXR0aW5ncy5rZXlib2FyZCkge1xyXG4gICAgICAgICAgdGhpcy5iaW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBBZGRzIGtleWJvYXJkIHByZXNzIGV2ZW50cy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIGJpbmQ6IGZ1bmN0aW9uIGJpbmQoKSB7XHJcbiAgICAgICAgQmluZGVyLm9uKCdrZXl1cCcsIGRvY3VtZW50LCB0aGlzLnByZXNzKTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogUmVtb3ZlcyBrZXlib2FyZCBwcmVzcyBldmVudHMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICB1bmJpbmQ6IGZ1bmN0aW9uIHVuYmluZCgpIHtcclxuICAgICAgICBCaW5kZXIub2ZmKCdrZXl1cCcsIGRvY3VtZW50KTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogSGFuZGxlcyBrZXlib2FyZCdzIGFycm93cyBwcmVzcyBhbmQgbW92aW5nIGdsaWRlIGZvd2FyZCBhbmQgYmFja3dhcmQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSAge09iamVjdH0gZXZlbnRcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIHByZXNzOiBmdW5jdGlvbiBwcmVzcyhldmVudCkge1xyXG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAzOSkge1xyXG4gICAgICAgICAgQ29tcG9uZW50cy5SdW4ubWFrZShDb21wb25lbnRzLkRpcmVjdGlvbi5yZXNvbHZlKCc+JykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDM3KSB7XHJcbiAgICAgICAgICBDb21wb25lbnRzLlJ1bi5tYWtlKENvbXBvbmVudHMuRGlyZWN0aW9uLnJlc29sdmUoJzwnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGJpbmRpbmdzIGZyb20ga2V5Ym9hcmQ6XHJcbiAgICAgKiAtIG9uIGRlc3Ryb3lpbmcgdG8gcmVtb3ZlIGFkZGVkIGV2ZW50c1xyXG4gICAgICogLSBvbiB1cGRhdGluZyB0byByZW1vdmUgZXZlbnRzIGJlZm9yZSByZW1vdW50aW5nXHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbihbJ2Rlc3Ryb3knLCAndXBkYXRlJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgS2V5Ym9hcmQudW5iaW5kKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW91bnQgY29tcG9uZW50XHJcbiAgICAgKiAtIG9uIHVwZGF0aW5nIHRvIHJlZmxlY3QgcG90ZW50aWFsIGNoYW5nZXMgaW4gc2V0dGluZ3NcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKCd1cGRhdGUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIEtleWJvYXJkLm1vdW50KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3kgYmluZGVyOlxyXG4gICAgICogLSBvbiBkZXN0cm95aW5nIHRvIHJlbW92ZSBsaXN0ZW5lcnNcclxuICAgICAqL1xyXG4gICAgRXZlbnRzLm9uKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBCaW5kZXIuZGVzdHJveSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIEtleWJvYXJkO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gQXV0b3BsYXkgKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcclxuICAgIC8qKlxyXG4gICAgICogSW5zdGFuY2Ugb2YgdGhlIGJpbmRlciBmb3IgRE9NIEV2ZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAdHlwZSB7RXZlbnRzQmluZGVyfVxyXG4gICAgICovXHJcbiAgICB2YXIgQmluZGVyID0gbmV3IEV2ZW50c0JpbmRlcigpO1xyXG5cclxuICAgIHZhciBBdXRvcGxheSA9IHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEluaXRpYWxpemVzIGF1dG9wbGF5aW5nIGFuZCBldmVudHMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBtb3VudDogZnVuY3Rpb24gbW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5zdGFydCgpO1xyXG5cclxuICAgICAgICBpZiAoR2xpZGUuc2V0dGluZ3MuaG92ZXJwYXVzZSkge1xyXG4gICAgICAgICAgdGhpcy5iaW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBTdGFydHMgYXV0b3BsYXlpbmcgaW4gY29uZmlndXJlZCBpbnRlcnZhbC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtCb29sZWFufE51bWJlcn0gZm9yY2UgUnVuIGF1dG9wbGF5aW5nIHdpdGggcGFzc2VkIGludGVydmFsIHJlZ2FyZGxlc3Mgb2YgYGF1dG9wbGF5YCBzZXR0aW5nc1xyXG4gICAgICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAgICAgKi9cclxuICAgICAgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0KCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgICAgIGlmIChHbGlkZS5zZXR0aW5ncy5hdXRvcGxheSkge1xyXG4gICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHRoaXMuX2kpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2kgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgX3RoaXMuc3RvcCgpO1xyXG5cclxuICAgICAgICAgICAgICBDb21wb25lbnRzLlJ1bi5tYWtlKCc+Jyk7XHJcblxyXG4gICAgICAgICAgICAgIF90aGlzLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMudGltZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBTdG9wcyBhdXRvcnVubmluZyBvZiB0aGUgZ2xpZGUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICAgICAqL1xyXG4gICAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkge1xyXG4gICAgICAgIHRoaXMuX2kgPSBjbGVhckludGVydmFsKHRoaXMuX2kpO1xyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBTdG9wcyBhdXRvcGxheWluZyB3aGlsZSBtb3VzZSBpcyBvdmVyIGdsaWRlJ3MgYXJlYS5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIGJpbmQ6IGZ1bmN0aW9uIGJpbmQoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XHJcblxyXG4gICAgICAgIEJpbmRlci5vbignbW91c2VvdmVyJywgQ29tcG9uZW50cy5IdG1sLnJvb3QsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIF90aGlzMi5zdG9wKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIEJpbmRlci5vbignbW91c2VvdXQnLCBDb21wb25lbnRzLkh0bWwucm9vdCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgX3RoaXMyLnN0YXJ0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFVuYmluZCBtb3VzZW92ZXIgZXZlbnRzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJucyB7Vm9pZH1cclxuICAgICAgICovXHJcbiAgICAgIHVuYmluZDogZnVuY3Rpb24gdW5iaW5kKCkge1xyXG4gICAgICAgIEJpbmRlci5vZmYoWydtb3VzZW92ZXInLCAnbW91c2VvdXQnXSwgQ29tcG9uZW50cy5IdG1sLnJvb3QpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGRlZmluZShBdXRvcGxheSwgJ3RpbWUnLCB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBHZXRzIHRpbWUgcGVyaW9kIHZhbHVlIGZvciB0aGUgYXV0b3BsYXkgaW50ZXJ2YWwuIFByaW9yaXRpemVzXHJcbiAgICAgICAqIHRpbWVzIGluIGBkYXRhLWdsaWRlLWF1dG9wbGF5YCBhdHRydWJ1dGVzIG92ZXIgb3B0aW9ucy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAgICAgKi9cclxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgdmFyIGF1dG9wbGF5ID0gQ29tcG9uZW50cy5IdG1sLnNsaWRlc1tHbGlkZS5zbW1dLmdldEF0dHJpYnV0ZSgnZGF0YS1nbGlkZS1hdXRvcGxheScpO1xyXG5cclxuICAgICAgICBpZiAoYXV0b3BsYXkpIHtcclxuICAgICAgICAgIHJldHVybiB0b0ludChhdXRvcGxheSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdG9JbnQoR2xpZGUuc2V0dGluZ3MuYXV0b3BsYXkpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3AgYXV0b3BsYXlpbmcgYW5kIHVuYmluZCBldmVudHM6XHJcbiAgICAgKiAtIG9uIGRlc3Ryb3lpbmcsIHRvIGNsZWFyIGRlZmluZWQgaW50ZXJ2YWxcclxuICAgICAqIC0gb24gdXBkYXRpbmcgdmlhIEFQSSB0byByZXNldCBpbnRlcnZhbCB0aGF0IG1heSBjaGFuZ2VkXHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbihbJ2Rlc3Ryb3knLCAndXBkYXRlJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgQXV0b3BsYXkudW5iaW5kKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3AgYXV0b3BsYXlpbmc6XHJcbiAgICAgKiAtIGJlZm9yZSBlYWNoIHJ1biwgdG8gcmVzdGFydCBhdXRvcGxheWluZ1xyXG4gICAgICogLSBvbiBwYXVzaW5nIHZpYSBBUElcclxuICAgICAqIC0gb24gZGVzdHJveWluZywgdG8gY2xlYXIgZGVmaW5lZCBpbnRlcnZhbFxyXG4gICAgICogLSB3aGlsZSBzdGFydGluZyBhIHN3aXBlXHJcbiAgICAgKiAtIG9uIHVwZGF0aW5nIHZpYSBBUEkgdG8gcmVzZXQgaW50ZXJ2YWwgdGhhdCBtYXkgY2hhbmdlZFxyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oWydydW4uYmVmb3JlJywgJ3BhdXNlJywgJ2Rlc3Ryb3knLCAnc3dpcGUuc3RhcnQnLCAndXBkYXRlJ10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgQXV0b3BsYXkuc3RvcCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdGFydCBhdXRvcGxheWluZzpcclxuICAgICAqIC0gYWZ0ZXIgZWFjaCBydW4sIHRvIHJlc3RhcnQgYXV0b3BsYXlpbmdcclxuICAgICAqIC0gb24gcGxheWluZyB2aWEgQVBJXHJcbiAgICAgKiAtIHdoaWxlIGVuZGluZyBhIHN3aXBlXHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbihbJ3J1bi5hZnRlcicsICdwbGF5JywgJ3N3aXBlLmVuZCddLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIEF1dG9wbGF5LnN0YXJ0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW91bnQgYXV0b3BsYXlpbmc6XHJcbiAgICAgKiAtIG9uIHVwZGF0aW5nIHZpYSBBUEkgdG8gcmVzZXQgaW50ZXJ2YWwgdGhhdCBtYXkgY2hhbmdlZFxyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oJ3VwZGF0ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgQXV0b3BsYXkubW91bnQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVzdHJveSBhIGJpbmRlcjpcclxuICAgICAqIC0gb24gZGVzdHJveWluZyBnbGlkZSBpbnN0YW5jZSB0byBjbGVhcnVwIGxpc3RlbmVyc1xyXG4gICAgICovXHJcbiAgICBFdmVudHMub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIEJpbmRlci5kZXN0cm95KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gQXV0b3BsYXk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTb3J0cyBrZXlzIG9mIGJyZWFrcG9pbnQgb2JqZWN0IHNvIHRoZXkgd2lsbCBiZSBvcmRlcmVkIGZyb20gbG93ZXIgdG8gYmlnZ2VyLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50c1xyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gc29ydEJyZWFrcG9pbnRzKHBvaW50cykge1xyXG4gICAgaWYgKGlzT2JqZWN0KHBvaW50cykpIHtcclxuICAgICAgcmV0dXJuIHNvcnRLZXlzKHBvaW50cyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB3YXJuKCdCcmVha3BvaW50cyBvcHRpb24gbXVzdCBiZSBhbiBvYmplY3QnKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge307XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBCcmVha3BvaW50cyAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbnN0YW5jZSBvZiB0aGUgYmluZGVyIGZvciBET00gRXZlbnRzLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtFdmVudHNCaW5kZXJ9XHJcbiAgICAgKi9cclxuICAgIHZhciBCaW5kZXIgPSBuZXcgRXZlbnRzQmluZGVyKCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIb2xkcyByZWZlcmVuY2UgdG8gc2V0dGluZ3MuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIHNldHRpbmdzID0gR2xpZGUuc2V0dGluZ3M7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIb2xkcyByZWZlcmVuY2UgdG8gYnJlYWtwb2ludHMgb2JqZWN0IGluIHNldHRpbmdzLiBTb3J0cyBicmVha3BvaW50c1xyXG4gICAgICogZnJvbSBzbWFsbGVyIHRvIGxhcmdlci4gSXQgaXMgcmVxdWlyZWQgaW4gb3JkZXIgdG8gcHJvcGVyXHJcbiAgICAgKiBtYXRjaGluZyBjdXJyZW50bHkgYWN0aXZlIGJyZWFrcG9pbnQgc2V0dGluZ3MuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIHBvaW50cyA9IHNvcnRCcmVha3BvaW50cyhzZXR0aW5ncy5icmVha3BvaW50cyk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWNoZSBpbml0aWFsIHNldHRpbmdzIGJlZm9yZSBvdmVyd3JpdHRpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdmFyIGRlZmF1bHRzID0gX2V4dGVuZHMoe30sIHNldHRpbmdzKTtcclxuXHJcbiAgICB2YXIgQnJlYWtwb2ludHMgPSB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBNYXRjaGVzIHNldHRpbmdzIGZvciBjdXJyZWN0bHkgbWF0Y2hpbmcgbWVkaWEgYnJlYWtwb2ludC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50c1xyXG4gICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAgICAgKi9cclxuICAgICAgbWF0Y2g6IGZ1bmN0aW9uIG1hdGNoKHBvaW50cykge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93Lm1hdGNoTWVkaWEgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBwb2ludCBpbiBwb2ludHMpIHtcclxuICAgICAgICAgICAgaWYgKHBvaW50cy5oYXNPd25Qcm9wZXJ0eShwb2ludCkpIHtcclxuICAgICAgICAgICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEoJyhtYXgtd2lkdGg6ICcgKyBwb2ludCArICdweCknKS5tYXRjaGVzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9pbnRzW3BvaW50XTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBkZWZhdWx0cztcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE92ZXJ3cml0ZSBpbnN0YW5jZSBzZXR0aW5ncyB3aXRoIGN1cnJlbnRseSBtYXRjaGluZyBicmVha3BvaW50IHNldHRpbmdzLlxyXG4gICAgICogVGhpcyBoYXBwZW5zIHJpZ2h0IGFmdGVyIGNvbXBvbmVudCBpbml0aWFsaXphdGlvbi5cclxuICAgICAqL1xyXG4gICAgX2V4dGVuZHMoc2V0dGluZ3MsIEJyZWFrcG9pbnRzLm1hdGNoKHBvaW50cykpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIGdsaWRlIHdpdGggc2V0dGluZ3Mgb2YgbWF0Y2hlZCBicmVrcG9pbnQ6XHJcbiAgICAgKiAtIHdpbmRvdyByZXNpemUgdG8gdXBkYXRlIHNsaWRlclxyXG4gICAgICovXHJcbiAgICBCaW5kZXIub24oJ3Jlc2l6ZScsIHdpbmRvdywgdGhyb3R0bGUoZnVuY3Rpb24gKCkge1xyXG4gICAgICBHbGlkZS5zZXR0aW5ncyA9IG1lcmdlT3B0aW9ucyhzZXR0aW5ncywgQnJlYWtwb2ludHMubWF0Y2gocG9pbnRzKSk7XHJcbiAgICB9LCBHbGlkZS5zZXR0aW5ncy50aHJvdHRsZSkpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVzb3J0IGFuZCB1cGRhdGUgZGVmYXVsdCBzZXR0aW5nczpcclxuICAgICAqIC0gb24gcmVpbml0IHZpYSBBUEksIHNvIGJyZWFrcG9pbnQgbWF0Y2hpbmcgd2lsbCBiZSBwZXJmb3JtZWQgd2l0aCBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbigndXBkYXRlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICBwb2ludHMgPSBzb3J0QnJlYWtwb2ludHMocG9pbnRzKTtcclxuXHJcbiAgICAgIGRlZmF1bHRzID0gX2V4dGVuZHMoe30sIHNldHRpbmdzKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVW5iaW5kIHJlc2l6ZSBsaXN0ZW5lcjpcclxuICAgICAqIC0gb24gZGVzdHJveWluZywgdG8gYnJpbmcgbWFya3VwIHRvIGl0cyBpbml0aWFsIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIEV2ZW50cy5vbignZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgQmluZGVyLm9mZigncmVzaXplJywgd2luZG93KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBCcmVha3BvaW50cztcclxuICB9XHJcblxyXG4gIHZhciBDT01QT05FTlRTID0ge1xyXG4gICAgLy8gUmVxdWlyZWRcclxuICAgIEh0bWw6IEh0bWwsXHJcbiAgICBUcmFuc2xhdGU6IFRyYW5zbGF0ZSxcclxuICAgIFRyYW5zaXRpb246IFRyYW5zaXRpb24sXHJcbiAgICBEaXJlY3Rpb246IERpcmVjdGlvbixcclxuICAgIFBlZWs6IFBlZWssXHJcbiAgICBTaXplczogU2l6ZXMsXHJcbiAgICBHYXBzOiBHYXBzLFxyXG4gICAgTW92ZTogTW92ZSxcclxuICAgIENsb25lczogQ2xvbmVzLFxyXG4gICAgUmVzaXplOiBSZXNpemUsXHJcbiAgICBCdWlsZDogQnVpbGQsXHJcbiAgICBSdW46IFJ1bixcclxuXHJcbiAgICAvLyBPcHRpb25hbFxyXG4gICAgU3dpcGU6IFN3aXBlLFxyXG4gICAgSW1hZ2VzOiBJbWFnZXMsXHJcbiAgICBBbmNob3JzOiBBbmNob3JzLFxyXG4gICAgQ29udHJvbHM6IENvbnRyb2xzLFxyXG4gICAgS2V5Ym9hcmQ6IEtleWJvYXJkLFxyXG4gICAgQXV0b3BsYXk6IEF1dG9wbGF5LFxyXG4gICAgQnJlYWtwb2ludHM6IEJyZWFrcG9pbnRzXHJcbiAgfTtcclxuXHJcbiAgdmFyIEdsaWRlJDEgPSBmdW5jdGlvbiAoX0NvcmUpIHtcclxuICAgIGluaGVyaXRzKEdsaWRlJCQxLCBfQ29yZSk7XHJcblxyXG4gICAgZnVuY3Rpb24gR2xpZGUkJDEoKSB7XHJcbiAgICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIEdsaWRlJCQxKTtcclxuICAgICAgcmV0dXJuIHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEdsaWRlJCQxLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoR2xpZGUkJDEpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVDbGFzcyhHbGlkZSQkMSwgW3tcclxuICAgICAga2V5OiAnbW91bnQnLFxyXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gbW91bnQoKSB7XHJcbiAgICAgICAgdmFyIGV4dGVuc2lvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xyXG5cclxuICAgICAgICByZXR1cm4gZ2V0KEdsaWRlJCQxLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEdsaWRlJCQxLnByb3RvdHlwZSksICdtb3VudCcsIHRoaXMpLmNhbGwodGhpcywgX2V4dGVuZHMoe30sIENPTVBPTkVOVFMsIGV4dGVuc2lvbnMpKTtcclxuICAgICAgfVxyXG4gICAgfV0pO1xyXG4gICAgcmV0dXJuIEdsaWRlJCQxO1xyXG4gIH0oR2xpZGUpO1xyXG5cclxuICByZXR1cm4gR2xpZGUkMTtcclxuXHJcbn0pKSk7XHJcbnZhciBidG5Nb2RhbE9wZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWwtc2hvdycpLFxyXG4gICAgYnRuTW9kYWxDbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1jbG9zZScpLFxyXG4gICAgbW9kYWxXaW5kb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwnKSxcclxuICAgIG1vZGFsSW5uZXJMYXllciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1pbm5lci1sYXllcicpLFxyXG4gICAgaHRtbEJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpO1xyXG5cclxuZm9yKHZhciBiID0gMDsgYiA8IGJ0bk1vZGFsT3Blbi5sZW5ndGg7IGIgKz0gMSkge1xyXG4gIGJ0bk1vZGFsT3BlbltiXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgbW9kYWxXaW5kb3cuY2xhc3NMaXN0LmFkZCgnbW9kYWwtb3BlbicpO1xyXG4gICAgaHRtbEJsb2NrLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcbiAgfSk7XHJcbn1cclxuXHJcbm1vZGFsSW5uZXJMYXllci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gIG1vZGFsV2luZG93LmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLW9wZW4nKTtcclxuICBodG1sQmxvY2suc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XHJcbn0pO1xyXG5cclxuYnRuTW9kYWxDbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gIG1vZGFsV2luZG93LmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLW9wZW4nKTtcclxuICBodG1sQmxvY2suc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XHJcbn0pOyJdfQ==
